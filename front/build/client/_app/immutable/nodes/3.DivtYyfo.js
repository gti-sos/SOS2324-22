import{s as Se,r as He,o as Oe,i as je}from"../chunks/scheduler.TjET1Dad.js";import{S as qe,i as Ge,e as p,s as B,k as me,l as Ie,c as _,a as I,m as Ye,f as R,d as u,n as de,g as T,h as s,o as w,p as ge,q as O,r as Q,u as ze,v as ne,w as Te,x as Je,t as S,b as H,y as Re,j as ue,z as Fe}from"../chunks/index.CogmN7-S.js";import{e as Ue}from"../chunks/each.D6YF6ztN.js";import{B as be}from"../chunks/Button.BYWkm6PB.js";import"../chunks/Theme.svelte_svelte_type_style_lang.BfHm16wz.js";function Le(n,o,t){const i=n.slice();return i[16]=o[t],i}function Ke(n){let o;return{c(){o=S("Crear")},l(t){o=H(t,"Crear")},m(t,i){T(t,o,i)},d(t){t&&u(o)}}}function Qe(n){let o;return{c(){o=S("Borrar")},l(t){o=H(t,"Borrar")},m(t,i){T(t,o,i)},d(t){t&&u(o)}}}function $e(n){let o,t,i=n[16].name+"",l,f,r,b=n[16].gender+"",U,L,E,y;return E=new be({props:{color:"primary",$$slots:{default:[Qe]},$$scope:{ctx:n}}}),E.$on("click",function(){je(n[4](n[16].name))&&n[4](n[16].name).apply(this,arguments)}),{c(){o=p("li"),t=p("a"),l=S(i),r=S("- "),U=S(b),L=B(),me(E.$$.fragment),this.h()},l(c){o=_(c,"LI",{});var m=I(o);t=_(m,"A",{href:!0});var N=I(t);l=H(N,i),N.forEach(u),r=H(m,"- "),U=H(m,b),m.forEach(u),L=R(c),de(E.$$.fragment,c),this.h()},h(){Re(t,"href",f="/famous-people/"+n[16].name+"/"+n[16].country)},m(c,m){T(c,o,m),s(o,t),s(t,l),s(o,r),s(o,U),T(c,L,m),ge(E,c,m),y=!0},p(c,m){n=c,(!y||m&1)&&i!==(i=n[16].name+"")&&ue(l,i),(!y||m&1&&f!==(f="/famous-people/"+n[16].name+"/"+n[16].country))&&Re(t,"href",f),(!y||m&1)&&b!==(b=n[16].gender+"")&&ue(U,b);const N={};m&524288&&(N.$$scope={dirty:m,ctx:n}),E.$set(N)},i(c){y||(Q(E.$$.fragment,c),y=!0)},o(c){ne(E.$$.fragment,c),y=!1},d(c){c&&(u(o),u(L)),Te(E,c)}}}function Ve(n){let o;return{c(){o=S("Borrar todo")},l(t){o=H(t,"Borrar todo")},m(t,i){T(t,o,i)},d(t){t&&u(o)}}}function Ae(n){let o,t,i;return{c(){o=p("hr"),t=B(),i=S(n[2])},l(l){o=_(l,"HR",{}),t=R(l),i=H(l,n[2])},m(l,f){T(l,o,f),T(l,t,f),T(l,i,f)},p(l,f){f&4&&ue(i,l[2])},d(l){l&&(u(o),u(t),u(i))}}}function Ce(n){let o,t,i;return{c(){o=p("hr"),t=S(`
ERROR: `),i=S(n[1])},l(l){o=_(l,"HR",{}),t=H(l,`
ERROR: `),i=H(l,n[1])},m(l,f){T(l,o,f),T(l,t,f),T(l,i,f)},p(l,f){f&2&&ue(i,l[1])},d(l){l&&(u(o),u(t),u(i))}}}function We(n){let o,t,i="<tr><th>Nombre</th> <th>Breve descripción</th> <th>Género</th> <th>País</th> <th>Profesión</th> <th>Año de nacimiento</th> <th>Año de fallecimiento</th> <th>Edad de muerte</th></tr>",l,f,r,b,U,L,E,y,c,m,N,V,j,A,W,P,v,ie,X,q,fe,Z,G,pe,x,Y,_e,ee,C,oe,z,le,M,re,F,K,ae,he,Ee;C=new be({props:{color:"primary",$$slots:{default:[Ke]},$$scope:{ctx:n}}}),C.$on("click",n[6]);let J=Ue(n[0]),h=[];for(let e=0;e<J.length;e+=1)h[e]=$e(Le(n,J,e));const Me=e=>ne(h[e],1,1,()=>{h[e]=null});M=new be({props:{color:"danger",$$slots:{default:[Ve]},$$scope:{ctx:n}}}),M.$on("click",n[5]);let D=n[2]!=""&&Ae(n),k=n[1]!=""&&Ce(n);return{c(){o=p("table"),t=p("thead"),t.innerHTML=i,l=B(),f=p("tbody"),r=p("tr"),b=p("td"),U=p("input"),L=B(),E=p("td"),y=p("input"),c=B(),m=p("td"),N=p("input"),V=B(),j=p("td"),A=p("input"),W=B(),P=p("td"),v=p("input"),ie=B(),X=p("td"),q=p("input"),fe=B(),Z=p("td"),G=p("input"),pe=B(),x=p("td"),Y=p("input"),_e=B(),ee=p("td"),me(C.$$.fragment),oe=B(),z=p("ul");for(let e=0;e<h.length;e+=1)h[e].c();le=B(),me(M.$$.fragment),re=B(),D&&D.c(),F=B(),k&&k.c(),K=Ie()},l(e){o=_(e,"TABLE",{});var a=I(o);t=_(a,"THEAD",{"data-svelte-h":!0}),Ye(t)!=="svelte-y4krlx"&&(t.innerHTML=i),l=R(a),f=_(a,"TBODY",{});var $=I(f);r=_($,"TR",{});var d=I(r);b=_(d,"TD",{});var g=I(b);U=_(g,"INPUT",{}),g.forEach(u),L=R(d),E=_(d,"TD",{});var te=I(E);y=_(te,"INPUT",{}),te.forEach(u),c=R(d),m=_(d,"TD",{});var ye=I(m);N=_(ye,"INPUT",{}),ye.forEach(u),V=R(d),j=_(d,"TD",{});var Pe=I(j);A=_(Pe,"INPUT",{}),Pe.forEach(u),W=R(d),P=_(d,"TD",{});var ve=I(P);v=_(ve,"INPUT",{}),ve.forEach(u),ie=R(d),X=_(d,"TD",{});var De=I(X);q=_(De,"INPUT",{}),De.forEach(u),fe=R(d),Z=_(d,"TD",{});var ke=I(Z);G=_(ke,"INPUT",{}),ke.forEach(u),pe=R(d),x=_(d,"TD",{});var we=I(x);Y=_(we,"INPUT",{}),we.forEach(u),_e=R(d),ee=_(d,"TD",{});var Ne=I(ee);de(C.$$.fragment,Ne),Ne.forEach(u),d.forEach(u),$.forEach(u),a.forEach(u),oe=R(e),z=_(e,"UL",{});var Be=I(z);for(let ce=0;ce<h.length;ce+=1)h[ce].l(Be);Be.forEach(u),le=R(e),de(M.$$.fragment,e),re=R(e),D&&D.l(e),F=R(e),k&&k.l(e),K=Ie()},m(e,a){T(e,o,a),s(o,t),s(o,l),s(o,f),s(f,r),s(r,b),s(b,U),w(U,n[3].name),s(r,L),s(r,E),s(E,y),w(y,n[3].short_description),s(r,c),s(r,m),s(m,N),w(N,n[3].gender),s(r,V),s(r,j),s(j,A),w(A,n[3].country),s(r,W),s(r,P),s(P,v),w(v,n[3].occupation),s(r,ie),s(r,X),s(X,q),w(q,n[3].birth_year),s(r,fe),s(r,Z),s(Z,G),w(G,n[3].death_year),s(r,pe),s(r,x),s(x,Y),w(Y,n[3].age_of_death),s(r,_e),s(r,ee),ge(C,ee,null),T(e,oe,a),T(e,z,a);for(let $=0;$<h.length;$+=1)h[$]&&h[$].m(z,null);T(e,le,a),ge(M,e,a),T(e,re,a),D&&D.m(e,a),T(e,F,a),k&&k.m(e,a),T(e,K,a),ae=!0,he||(Ee=[O(U,"input",n[8]),O(y,"input",n[9]),O(N,"input",n[10]),O(A,"input",n[11]),O(v,"input",n[12]),O(q,"input",n[13]),O(G,"input",n[14]),O(Y,"input",n[15])],he=!0)},p(e,[a]){a&8&&U.value!==e[3].name&&w(U,e[3].name),a&8&&y.value!==e[3].short_description&&w(y,e[3].short_description),a&8&&N.value!==e[3].gender&&w(N,e[3].gender),a&8&&A.value!==e[3].country&&w(A,e[3].country),a&8&&v.value!==e[3].occupation&&w(v,e[3].occupation),a&8&&q.value!==e[3].birth_year&&w(q,e[3].birth_year),a&8&&G.value!==e[3].death_year&&w(G,e[3].death_year),a&8&&Y.value!==e[3].age_of_death&&w(Y,e[3].age_of_death);const $={};if(a&524288&&($.$$scope={dirty:a,ctx:e}),C.$set($),a&17){J=Ue(e[0]);let g;for(g=0;g<J.length;g+=1){const te=Le(e,J,g);h[g]?(h[g].p(te,a),Q(h[g],1)):(h[g]=$e(te),h[g].c(),Q(h[g],1),h[g].m(z,null))}for(Fe(),g=J.length;g<h.length;g+=1)Me(g);ze()}const d={};a&524288&&(d.$$scope={dirty:a,ctx:e}),M.$set(d),e[2]!=""?D?D.p(e,a):(D=Ae(e),D.c(),D.m(F.parentNode,F)):D&&(D.d(1),D=null),e[1]!=""?k?k.p(e,a):(k=Ce(e),k.c(),k.m(K.parentNode,K)):k&&(k.d(1),k=null)},i(e){if(!ae){Q(C.$$.fragment,e);for(let a=0;a<J.length;a+=1)Q(h[a]);Q(M.$$.fragment,e),ae=!0}},o(e){ne(C.$$.fragment,e),h=h.filter(Boolean);for(let a=0;a<h.length;a+=1)ne(h[a]);ne(M.$$.fragment,e),ae=!1},d(e){e&&(u(o),u(oe),u(z),u(le),u(re),u(F),u(K)),Te(C),Je(h,e),Te(M,e),D&&D.d(e),k&&k.d(e),he=!1,He(Ee)}}}let se="http://localhost:10000/api/v1/famous-people";function Xe(n,o,t){let i=[],l="",f="";const r={name:"Mariano Rajoy",short_description:" president of Spain",gender:"Male",country:"Spain",occupation:"Politician",birth_year:1950,death_year:2039,age_of_death:89};Oe(()=>{b()});async function b(){try{let v=await(await fetch(se,{method:"GET"})).json();t(0,i=v),console.log(v)}catch(P){t(1,l=P)}}async function U(P){try{let v=await fetch(se+"/"+P,{method:"DELETE"});console.log(`Deleting person with name ${P}`),v.status==200?(t(2,f="Persona borrada con éxito"),b(),setTimeout(()=>{t(2,f="")},3e3)):(t(1,l="Esa persona no existe"),setTimeout(()=>{t(1,l="")},3e3))}catch(v){t(1,l=v)}}async function L(){try{(await fetch(se,{method:"DELETE"})).status==200?(t(2,f="Personas borrada con éxito"),b(),setTimeout(()=>{t(2,f="")},3e3)):(t(1,l="Ya están todas las personas borradas"),setTimeout(()=>{t(1,l="")},3e3))}catch(P){t(1,l=P)}}async function E(){try{let v=await(await fetch(se,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).status;console.log(`Creation response status ${v}`),v==201?(t(2,f="Persona creada con éxito"),b(),setTimeout(()=>{t(2,f="")},3e3)):(t(1,l="La persona ya existe"),setTimeout(()=>{t(1,l="")},3e3))}catch(P){t(1,l=P)}}function y(){r.name=this.value,t(3,r)}function c(){r.short_description=this.value,t(3,r)}function m(){r.gender=this.value,t(3,r)}function N(){r.country=this.value,t(3,r)}function V(){r.occupation=this.value,t(3,r)}function j(){r.birth_year=this.value,t(3,r)}function A(){r.death_year=this.value,t(3,r)}function W(){r.age_of_death=this.value,t(3,r)}return[i,l,f,r,U,L,E,b,y,c,m,N,V,j,A,W]}class ot extends qe{constructor(o){super(),Ge(this,o,Xe,We,Se,{getPeople:7})}get getPeople(){return this.$$.ctx[7]}}export{ot as component};
