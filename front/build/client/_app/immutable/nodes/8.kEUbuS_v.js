import{s as Ie,r as Ne,o as Le,i as Ue}from"../chunks/scheduler.wWR6jiGY.js";import{S as Ae,i as Fe,e as p,h as w,j as re,b as m,f as D,k as He,l as P,d as i,m as le,a as N,g as r,n as k,o as ue,p as H,q as G,r as Se,u as z,v as ie,w as je,t as K,c as Q,x as Ce,s as De,y as qe}from"../chunks/index.BrUfcjbG.js";import{e as we}from"../chunks/each.D6YF6ztN.js";import{B as ce}from"../chunks/MessageContainer.svelte_svelte_type_style_lang.BTm8g4uz.js";import"../chunks/Theme.svelte_svelte_type_style_lang.C8eeSRjy.js";import{M as Oe}from"../chunks/MessageContainer.BhMVhnr4.js";function Pe(n,o,e){const _=n.slice();return _[17]=o[e],_}function Je(n){let o;return{c(){o=K("Crear")},l(e){o=Q(e,"Crear")},m(e,_){N(e,o,_)},d(e){e&&i(o)}}}function Re(n){let o;return{c(){o=K("Borrar")},l(e){o=Q(e,"Borrar")},m(e,_){N(e,o,_)},d(e){e&&i(o)}}}function Me(n){let o,e,_=n[17].name+"",v,u,a,l=n[17].profit+"",y,B,b,E;return b=new ce({props:{color:"danger",$$slots:{default:[Re]},$$scope:{ctx:n}}}),b.$on("click",function(){Ue(n[4](n[17].name))&&n[4](n[17].name).apply(this,arguments)}),{c(){o=p("li"),e=p("a"),v=K(_),a=K("- "),y=K(l),B=w(),re(b.$$.fragment),this.h()},l(c){o=m(c,"LI",{});var g=D(o);e=m(g,"A",{href:!0});var C=D(e);v=Q(C,_),C.forEach(i),a=Q(g,"- "),y=Q(g,l),g.forEach(i),B=P(c),le(b.$$.fragment,c),this.h()},h(){Ce(e,"href",u="/forbes-billonaires/"+n[17].name+"/"+n[17].country)},m(c,g){N(c,o,g),r(o,e),r(e,v),r(o,a),r(o,y),N(c,B,g),ue(b,c,g),E=!0},p(c,g){n=c,(!E||g&1)&&_!==(_=n[17].name+"")&&De(v,_),(!E||g&1&&u!==(u="/forbes-billonaires/"+n[17].name+"/"+n[17].country))&&Ce(e,"href",u),(!E||g&1)&&l!==(l=n[17].profit+"")&&De(y,l);const C={};g&1048576&&(C.$$scope={dirty:g,ctx:n}),b.$set(C)},i(c){E||(G(b.$$.fragment,c),E=!0)},o(c){z(b.$$.fragment,c),E=!1},d(c){c&&(i(o),i(B)),ie(b,c)}}}function Ve(n){let o;return{c(){o=K("Borrar todo")},l(e){o=Q(e,"Borrar todo")},m(e,_){N(e,o,_)},d(e){e&&i(o)}}}function Ye(n){let o,e,_="<tr><th>Ranking</th> <th>Nombre</th> <th>Pais</th> <th>Ventas</th> <th>Beneficio</th> <th>Activos</th> <th>Valor de mercado</th> <th>Año</th></tr>",v,u,a,l,y,B,b,E,c,g,C,W,S,L,X,j,h,M,q,O,fe,Z,J,pe,x,R,me,ee,U,ne,V,oe,A,se,F,ae,he,ge;U=new ce({props:{color:"primary",$$slots:{default:[Je]},$$scope:{ctx:n}}}),U.$on("click",n[6]);let Y=we(n[0]),f=[];for(let t=0;t<Y.length;t+=1)f[t]=Me(Pe(n,Y,t));const Be=t=>z(f[t],1,1,()=>{f[t]=null});return A=new ce({props:{color:"danger",$$slots:{default:[Ve]},$$scope:{ctx:n}}}),A.$on("click",n[5]),F=new Oe({props:{Msg:n[2],errorMsg:n[1]}}),{c(){o=p("table"),e=p("thead"),e.innerHTML=_,v=w(),u=p("tbody"),a=p("tr"),l=p("td"),y=p("input"),B=w(),b=p("td"),E=p("input"),c=w(),g=p("td"),C=p("input"),W=w(),S=p("td"),L=p("input"),X=w(),j=p("td"),h=p("input"),M=w(),q=p("td"),O=p("input"),fe=w(),Z=p("td"),J=p("input"),pe=w(),x=p("td"),R=p("input"),me=w(),ee=p("td"),re(U.$$.fragment),ne=w(),V=p("ul");for(let t=0;t<f.length;t+=1)f[t].c();oe=w(),re(A.$$.fragment),se=w(),re(F.$$.fragment)},l(t){o=m(t,"TABLE",{});var s=D(o);e=m(s,"THEAD",{"data-svelte-h":!0}),He(e)!=="svelte-1nw8pxq"&&(e.innerHTML=_),v=P(s),u=m(s,"TBODY",{});var I=D(u);a=m(I,"TR",{});var d=D(a);l=m(d,"TD",{});var $=D(l);y=m($,"INPUT",{}),$.forEach(i),B=P(d),b=m(d,"TD",{});var T=D(b);E=m(T,"INPUT",{}),T.forEach(i),c=P(d),g=m(d,"TD",{});var te=D(g);C=m(te,"INPUT",{}),te.forEach(i),W=P(d),S=m(d,"TD",{});var de=D(S);L=m(de,"INPUT",{}),de.forEach(i),X=P(d),j=m(d,"TD",{});var Te=D(j);h=m(Te,"INPUT",{}),Te.forEach(i),M=P(d),q=m(d,"TD",{});var be=D(q);O=m(be,"INPUT",{}),be.forEach(i),fe=P(d),Z=m(d,"TD",{});var Ee=D(Z);J=m(Ee,"INPUT",{}),Ee.forEach(i),pe=P(d),x=m(d,"TD",{});var ye=D(x);R=m(ye,"INPUT",{}),ye.forEach(i),me=P(d),ee=m(d,"TD",{});var ke=D(ee);le(U.$$.fragment,ke),ke.forEach(i),d.forEach(i),I.forEach(i),s.forEach(i),ne=P(t),V=m(t,"UL",{});var ve=D(V);for(let _e=0;_e<f.length;_e+=1)f[_e].l(ve);ve.forEach(i),oe=P(t),le(A.$$.fragment,t),se=P(t),le(F.$$.fragment,t)},m(t,s){N(t,o,s),r(o,e),r(o,v),r(o,u),r(u,a),r(a,l),r(l,y),k(y,n[3].rank),r(a,B),r(a,b),r(b,E),k(E,n[3].name),r(a,c),r(a,g),r(g,C),k(C,n[3].country),r(a,W),r(a,S),r(S,L),k(L,n[3].sale),r(a,X),r(a,j),r(j,h),k(h,n[3].profit),r(a,M),r(a,q),r(q,O),k(O,n[3].asset),r(a,fe),r(a,Z),r(Z,J),k(J,n[3].market_value),r(a,pe),r(a,x),r(x,R),k(R,n[3].year),r(a,me),r(a,ee),ue(U,ee,null),N(t,ne,s),N(t,V,s);for(let I=0;I<f.length;I+=1)f[I]&&f[I].m(V,null);N(t,oe,s),ue(A,t,s),N(t,se,s),ue(F,t,s),ae=!0,he||(ge=[H(y,"input",n[8]),H(E,"input",n[9]),H(C,"input",n[10]),H(L,"input",n[11]),H(h,"input",n[12]),H(O,"input",n[13]),H(J,"input",n[14]),H(R,"input",n[15])],he=!0)},p(t,[s]){s&8&&y.value!==t[3].rank&&k(y,t[3].rank),s&8&&E.value!==t[3].name&&k(E,t[3].name),s&8&&C.value!==t[3].country&&k(C,t[3].country),s&8&&L.value!==t[3].sale&&k(L,t[3].sale),s&8&&h.value!==t[3].profit&&k(h,t[3].profit),s&8&&O.value!==t[3].asset&&k(O,t[3].asset),s&8&&J.value!==t[3].market_value&&k(J,t[3].market_value),s&8&&R.value!==t[3].year&&k(R,t[3].year);const I={};if(s&1048576&&(I.$$scope={dirty:s,ctx:t}),U.$set(I),s&17){Y=we(t[0]);let T;for(T=0;T<Y.length;T+=1){const te=Pe(t,Y,T);f[T]?(f[T].p(te,s),G(f[T],1)):(f[T]=Me(te),f[T].c(),G(f[T],1),f[T].m(V,null))}for(qe(),T=Y.length;T<f.length;T+=1)Be(T);Se()}const d={};s&1048576&&(d.$$scope={dirty:s,ctx:t}),A.$set(d);const $={};s&4&&($.Msg=t[2]),s&2&&($.errorMsg=t[1]),F.$set($)},i(t){if(!ae){G(U.$$.fragment,t);for(let s=0;s<Y.length;s+=1)G(f[s]);G(A.$$.fragment,t),G(F.$$.fragment,t),ae=!0}},o(t){z(U.$$.fragment,t),f=f.filter(Boolean);for(let s=0;s<f.length;s+=1)z(f[s]);z(A.$$.fragment,t),z(F.$$.fragment,t),ae=!1},d(t){t&&(i(o),i(ne),i(V),i(oe),i(se)),ie(U),je(f,t),ie(A,t),ie(F,t),he=!1,Ne(ge)}}}function Ge(n,o,e){let _="/api/v2/forbes-billonaires",v=[],u="",a="";const l={rank:20,name:"Honda",country:"Japon",sale:15.381,profit:41.9837,asset:347.238,market_value:229.805,year:2018};Le(()=>{y()});async function y(){try{let h=await fetch(_,{method:"GET"}),M=await h.json();e(0,v=M),h.status===200||(v.length===0?(e(2,a="La lista esta vacía"),setTimeout(()=>{e(2,a="")},3e3)):h.status===400?(e(1,u="Formato incorrecto"),setTimeout(()=>{e(2,a="")},3e3)):(e(1,u="Error cargando compañias"),setTimeout(()=>{e(1,u="")},3e3)))}catch(h){e(1,u=h)}}async function B(h){try{let M=await fetch(_+"/"+h,{method:"DELETE"});console.log(`Deleting company with name ${h}`),M.status==200?(e(2,a="Compañia borrada con éxito"),e(0,v=v.filter(q=>q.name!==h)),setTimeout(()=>{e(2,a="")},3e3)):(e(1,u="Esa Compañia no existe"),setTimeout(()=>{e(1,u="")},3e3))}catch(M){e(1,u=M)}}async function b(){try{(await fetch(_,{method:"DELETE"})).status==200?(e(2,a="Compañias borrada con éxito"),e(0,v=[]),setTimeout(()=>{e(2,a="")},3e3)):(e(1,u="Ya están todas las Compañias borradas"),setTimeout(()=>{e(1,u="")},3e3))}catch(h){e(1,u=h)}}async function E(){try{let M=await(await fetch(_,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).status;console.log(`Creation response status ${M}`),M===201?(e(2,a="compañia creada con éxito"),y(),setTimeout(()=>{e(2,a="")},3e3)):(e(1,u="La compañia ya existe"),setTimeout(()=>{e(1,u="")},3e3))}catch(h){e(1,u=h)}}function c(){l.rank=this.value,e(3,l)}function g(){l.name=this.value,e(3,l)}function C(){l.country=this.value,e(3,l)}function W(){l.sale=this.value,e(3,l)}function S(){l.profit=this.value,e(3,l)}function L(){l.asset=this.value,e(3,l)}function X(){l.market_value=this.value,e(3,l)}function j(){l.year=this.value,e(3,l)}return[v,u,a,l,B,b,E,y,c,g,C,W,S,L,X,j]}class Ze extends Ae{constructor(o){super(),Fe(this,o,Ge,Ye,Ie,{getForbes_billonaires:7})}get getForbes_billonaires(){return this.$$.ctx[7]}}export{Ze as component};
