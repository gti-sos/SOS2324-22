import{s as ct,r as ht,o as _t,i as mt}from"../chunks/scheduler.wWR6jiGY.js";import{S as gt,i as dt,e as i,h as g,j as ie,t as z,b as p,k as qe,l as d,m as pe,f as M,d as r,c as R,n as v,a as c,o as m,p as fe,g as a,q as A,u as G,v as Tt,s as xe,w as X,x as ce,y as vt,z as bt}from"../chunks/index.j2r2S6jy.js";import{e as ut}from"../chunks/each.D6YF6ztN.js";import{B as Ee}from"../chunks/MessageContainer.svelte_svelte_type_style_lang.eMTc9cxz.js";import"../chunks/Theme.svelte_svelte_type_style_lang.C8eeSRjy.js";import{M as Et}from"../chunks/MessageContainer.CMkKOei7.js";function it(s,l,t){const _=s.slice();return _[30]=l[t],_}function wt(s){let l;return{c(){l=z("Buscar")},l(t){l=R(t,"Buscar")},m(t,_){c(t,l,_)},d(t){t&&r(l)}}}function Pt(s){let l;return{c(){l=z("Borrar")},l(t){l=R(t,"Borrar")},m(t,_){c(t,l,_)},d(t){t&&r(l)}}}function pt(s){let l,t,_,w=s[30].name+"",k,h,B,$=s[30].net_worth+"",D,o,u,b;return u=new Ee({props:{class:"delete-button",color:"danger",$$slots:{default:[Pt]},$$scope:{ctx:s}}}),u.$on("click",function(){mt(s[7](s[30].rank))&&s[7](s[30].rank).apply(this,arguments)}),{c(){l=i("div"),t=i("li"),_=i("a"),k=z(w),B=z("- "),D=z($),o=g(),ie(u.$$.fragment),this.h()},l(I){l=p(I,"DIV",{class:!0});var T=M(l);t=p(T,"LI",{class:!0});var L=M(t);_=p(L,"A",{href:!0});var N=M(_);k=R(N,w),N.forEach(r),B=R(L,"- "),D=R(L,$),L.forEach(r),o=d(T),pe(u.$$.fragment,T),T.forEach(r),this.h()},h(){v(_,"href",h="/forbes-billionaires-list/"+s[30].rank),v(t,"class","svelte-1316pci"),v(l,"class","person-container svelte-1316pci")},m(I,T){c(I,l,T),a(l,t),a(t,_),a(_,k),a(t,B),a(t,D),a(l,o),fe(u,l,null),b=!0},p(I,T){s=I,(!b||T[0]&1)&&w!==(w=s[30].name+"")&&xe(k,w),(!b||T[0]&1&&h!==(h="/forbes-billionaires-list/"+s[30].rank))&&v(_,"href",h),(!b||T[0]&1)&&$!==($=s[30].net_worth+"")&&xe(D,$);const L={};T[1]&4&&(L.$$scope={dirty:T,ctx:s}),u.$set(L)},i(I){b||(G(u.$$.fragment,I),b=!0)},o(I){X(u.$$.fragment,I),b=!1},d(I){I&&r(l),ce(u)}}}function $t(s){let l;return{c(){l=z("Página anterior")},l(t){l=R(t,"Página anterior")},m(t,_){c(t,l,_)},d(t){t&&r(l)}}}function kt(s){let l;return{c(){l=z("Página siguiente")},l(t){l=R(t,"Página siguiente")},m(t,_){c(t,l,_)},d(t){t&&r(l)}}}function Bt(s){let l;return{c(){l=z("Crear")},l(t){l=R(t,"Crear")},m(t,_){c(t,l,_)},d(t){t&&r(l)}}}function It(s){let l;return{c(){l=z("Borrar todo")},l(t){l=R(t,"Borrar todo")},m(t,_){c(t,l,_)},d(t){t&&r(l)}}}function yt(s){let l,t="<h2>Buscar por campos</h2>",_,w,k,h,B,$,D,o,u,b,I,T,L,N,he,H,_e,J,me,C,S,we,Z,Pe,ge,$e,F,de,K,Se="<h2>Crear un nuevo billonario</h2>",P,f,Y,et="<tr><th>Puesto</th> <th>Nombre</th> <th>Patrimonio neto (billones)</th> <th>Edad</th></tr>",Oe,ke,j,Be,x,ze,Ie,ee,Re,ye,te,Ye,Me,ne,Ge,Te,tt="<tr><th>País</th> <th>Empresa</th> <th>Industria</th></tr>",Je,q,Ne,se,Ke,De,le,Qe,Le,re,We,Ue,Q,Fe,W,je,oe,Ae,Xe,nt;H=new Ee({props:{color:"primary",$$slots:{default:[wt]},$$scope:{ctx:s}}}),H.$on("click",s[6]);let ue=ut(s[0]),E=[];for(let e=0;e<ue.length;e+=1)E[e]=pt(it(s,ue,e));const ft=e=>X(E[e],1,1,()=>{E[e]=null});return S=new Ee({props:{color:"primary",$$slots:{default:[$t]},$$scope:{ctx:s}}}),S.$on("click",s[11]),F=new Ee({props:{color:"primary",$$slots:{default:[kt]},$$scope:{ctx:s}}}),F.$on("click",s[10]),Q=new Ee({props:{color:"primary",$$slots:{default:[Bt]},$$scope:{ctx:s}}}),Q.$on("click",s[9]),W=new Ee({props:{color:"danger",$$slots:{default:[It]},$$scope:{ctx:s}}}),W.$on("click",s[8]),oe=new Et({props:{Msg:s[2],errorMsg:s[1]}}),{c(){l=i("div"),l.innerHTML=t,_=g(),w=i("input"),k=g(),h=i("input"),B=g(),$=i("input"),D=g(),o=i("input"),u=g(),b=i("input"),I=g(),T=i("input"),L=g(),N=i("input"),he=g(),ie(H.$$.fragment),_e=g(),J=i("ul");for(let e=0;e<E.length;e+=1)E[e].c();me=g(),C=i("div"),ie(S.$$.fragment),we=g(),Z=i("span"),Pe=z("Página actual: "),ge=z(s[3]),$e=g(),ie(F.$$.fragment),de=g(),K=i("div"),K.innerHTML=Se,P=g(),f=i("table"),Y=i("thead"),Y.innerHTML=et,Oe=g(),ke=i("tbody"),j=i("tr"),Be=i("td"),x=i("input"),ze=g(),Ie=i("td"),ee=i("input"),Re=g(),ye=i("td"),te=i("input"),Ye=g(),Me=i("td"),ne=i("input"),Ge=g(),Te=i("thead"),Te.innerHTML=tt,Je=g(),q=i("tbody"),Ne=i("td"),se=i("input"),Ke=g(),De=i("td"),le=i("input"),Qe=g(),Le=i("td"),re=i("input"),We=g(),Ue=i("td"),ie(Q.$$.fragment),Fe=g(),ie(W.$$.fragment),je=g(),ie(oe.$$.fragment),this.h()},l(e){l=p(e,"DIV",{"data-svelte-h":!0}),qe(l)!=="svelte-jxvrg6"&&(l.innerHTML=t),_=d(e),w=p(e,"INPUT",{placeholder:!0,class:!0}),k=d(e),h=p(e,"INPUT",{placeholder:!0,class:!0}),B=d(e),$=p(e,"INPUT",{placeholder:!0,class:!0}),D=d(e),o=p(e,"INPUT",{placeholder:!0,class:!0}),u=d(e),b=p(e,"INPUT",{placeholder:!0,class:!0}),I=d(e),T=p(e,"INPUT",{placeholder:!0,class:!0}),L=d(e),N=p(e,"INPUT",{placeholder:!0,class:!0}),he=d(e),pe(H.$$.fragment,e),_e=d(e),J=p(e,"UL",{});var n=M(J);for(let Ze=0;Ze<E.length;Ze+=1)E[Ze].l(n);n.forEach(r),me=d(e),C=p(e,"DIV",{});var U=M(C);pe(S.$$.fragment,U),we=d(U),Z=p(U,"SPAN",{});var ve=M(Z);Pe=R(ve,"Página actual: "),ge=R(ve,s[3]),ve.forEach(r),$e=d(U),pe(F.$$.fragment,U),U.forEach(r),de=d(e),K=p(e,"DIV",{"data-svelte-h":!0}),qe(K)!=="svelte-ob8lhq"&&(K.innerHTML=Se),P=d(e),f=p(e,"TABLE",{});var V=M(f);Y=p(V,"THEAD",{"data-svelte-h":!0}),qe(Y)!=="svelte-g90tak"&&(Y.innerHTML=et),Oe=d(V),ke=p(V,"TBODY",{});var Ce=M(ke);j=p(Ce,"TR",{});var O=M(j);Be=p(O,"TD",{});var be=M(Be);x=p(be,"INPUT",{class:!0}),be.forEach(r),ze=d(O),Ie=p(O,"TD",{});var y=M(Ie);ee=p(y,"INPUT",{class:!0}),y.forEach(r),Re=d(O),ye=p(O,"TD",{});var He=M(ye);te=p(He,"INPUT",{class:!0}),He.forEach(r),Ye=d(O),Me=p(O,"TD",{});var st=M(Me);ne=p(st,"INPUT",{class:!0}),st.forEach(r),O.forEach(r),Ce.forEach(r),Ge=d(V),Te=p(V,"THEAD",{"data-svelte-h":!0}),qe(Te)!=="svelte-1mw0dur"&&(Te.innerHTML=tt),Je=d(V),q=p(V,"TBODY",{});var ae=M(q);Ne=p(ae,"TD",{});var lt=M(Ne);se=p(lt,"INPUT",{class:!0}),lt.forEach(r),Ke=d(ae),De=p(ae,"TD",{});var rt=M(De);le=p(rt,"INPUT",{class:!0}),rt.forEach(r),Qe=d(ae),Le=p(ae,"TD",{});var ot=M(Le);re=p(ot,"INPUT",{class:!0}),ot.forEach(r),We=d(ae),Ue=p(ae,"TD",{});var at=M(Ue);pe(Q.$$.fragment,at),at.forEach(r),ae.forEach(r),V.forEach(r),Fe=d(e),pe(W.$$.fragment,e),je=d(e),pe(oe.$$.fragment,e),this.h()},h(){v(w,"placeholder","Rank"),v(w,"class","svelte-1316pci"),v(h,"placeholder","Nombre"),v(h,"class","svelte-1316pci"),v($,"placeholder","Patrimonio neto"),v($,"class","svelte-1316pci"),v(o,"placeholder","Edad"),v(o,"class","svelte-1316pci"),v(b,"placeholder","País"),v(b,"class","svelte-1316pci"),v(T,"placeholder","Empresa"),v(T,"class","svelte-1316pci"),v(N,"placeholder","Industria"),v(N,"class","svelte-1316pci"),v(x,"class","svelte-1316pci"),v(ee,"class","svelte-1316pci"),v(te,"class","svelte-1316pci"),v(ne,"class","svelte-1316pci"),v(se,"class","svelte-1316pci"),v(le,"class","svelte-1316pci"),v(re,"class","svelte-1316pci")},m(e,n){c(e,l,n),c(e,_,n),c(e,w,n),m(w,s[5].rank),c(e,k,n),c(e,h,n),m(h,s[5].name),c(e,B,n),c(e,$,n),m($,s[5].net_worth),c(e,D,n),c(e,o,n),m(o,s[5].age),c(e,u,n),c(e,b,n),m(b,s[5].country),c(e,I,n),c(e,T,n),m(T,s[5].source),c(e,L,n),c(e,N,n),m(N,s[5].industry),c(e,he,n),fe(H,e,n),c(e,_e,n),c(e,J,n);for(let U=0;U<E.length;U+=1)E[U]&&E[U].m(J,null);c(e,me,n),c(e,C,n),fe(S,C,null),a(C,we),a(C,Z),a(Z,Pe),a(Z,ge),a(C,$e),fe(F,C,null),c(e,de,n),c(e,K,n),c(e,P,n),c(e,f,n),a(f,Y),a(f,Oe),a(f,ke),a(ke,j),a(j,Be),a(Be,x),m(x,s[4].rank),a(j,ze),a(j,Ie),a(Ie,ee),m(ee,s[4].name),a(j,Re),a(j,ye),a(ye,te),m(te,s[4].net_worth),a(j,Ye),a(j,Me),a(Me,ne),m(ne,s[4].age),a(f,Ge),a(f,Te),a(f,Je),a(f,q),a(q,Ne),a(Ne,se),m(se,s[4].country),a(q,Ke),a(q,De),a(De,le),m(le,s[4].source),a(q,Qe),a(q,Le),a(Le,re),m(re,s[4].industry),a(q,We),a(q,Ue),fe(Q,Ue,null),c(e,Fe,n),fe(W,e,n),c(e,je,n),fe(oe,e,n),Ae=!0,Xe||(nt=[A(w,"input",s[13]),A(h,"input",s[14]),A($,"input",s[15]),A(o,"input",s[16]),A(b,"input",s[17]),A(T,"input",s[18]),A(N,"input",s[19]),A(x,"input",s[20]),A(ee,"input",s[21]),A(te,"input",s[22]),A(ne,"input",s[23]),A(se,"input",s[24]),A(le,"input",s[25]),A(re,"input",s[26])],Xe=!0)},p(e,n){n[0]&32&&w.value!==e[5].rank&&m(w,e[5].rank),n[0]&32&&h.value!==e[5].name&&m(h,e[5].name),n[0]&32&&$.value!==e[5].net_worth&&m($,e[5].net_worth),n[0]&32&&o.value!==e[5].age&&m(o,e[5].age),n[0]&32&&b.value!==e[5].country&&m(b,e[5].country),n[0]&32&&T.value!==e[5].source&&m(T,e[5].source),n[0]&32&&N.value!==e[5].industry&&m(N,e[5].industry);const U={};if(n[1]&4&&(U.$$scope={dirty:n,ctx:e}),H.$set(U),n[0]&129){ue=ut(e[0]);let y;for(y=0;y<ue.length;y+=1){const He=it(e,ue,y);E[y]?(E[y].p(He,n),G(E[y],1)):(E[y]=pt(He),E[y].c(),G(E[y],1),E[y].m(J,null))}for(bt(),y=ue.length;y<E.length;y+=1)ft(y);Tt()}const ve={};n[1]&4&&(ve.$$scope={dirty:n,ctx:e}),S.$set(ve),(!Ae||n[0]&8)&&xe(ge,e[3]);const V={};n[1]&4&&(V.$$scope={dirty:n,ctx:e}),F.$set(V),n[0]&16&&x.value!==e[4].rank&&m(x,e[4].rank),n[0]&16&&ee.value!==e[4].name&&m(ee,e[4].name),n[0]&16&&te.value!==e[4].net_worth&&m(te,e[4].net_worth),n[0]&16&&ne.value!==e[4].age&&m(ne,e[4].age),n[0]&16&&se.value!==e[4].country&&m(se,e[4].country),n[0]&16&&le.value!==e[4].source&&m(le,e[4].source),n[0]&16&&re.value!==e[4].industry&&m(re,e[4].industry);const Ce={};n[1]&4&&(Ce.$$scope={dirty:n,ctx:e}),Q.$set(Ce);const O={};n[1]&4&&(O.$$scope={dirty:n,ctx:e}),W.$set(O);const be={};n[0]&4&&(be.Msg=e[2]),n[0]&2&&(be.errorMsg=e[1]),oe.$set(be)},i(e){if(!Ae){G(H.$$.fragment,e);for(let n=0;n<ue.length;n+=1)G(E[n]);G(S.$$.fragment,e),G(F.$$.fragment,e),G(Q.$$.fragment,e),G(W.$$.fragment,e),G(oe.$$.fragment,e),Ae=!0}},o(e){X(H.$$.fragment,e),E=E.filter(Boolean);for(let n=0;n<E.length;n+=1)X(E[n]);X(S.$$.fragment,e),X(F.$$.fragment,e),X(Q.$$.fragment,e),X(W.$$.fragment,e),X(oe.$$.fragment,e),Ae=!1},d(e){e&&(r(l),r(_),r(w),r(k),r(h),r(B),r($),r(D),r(o),r(u),r(b),r(I),r(T),r(L),r(N),r(he),r(_e),r(J),r(me),r(C),r(de),r(K),r(P),r(f),r(Fe),r(je)),ce(H,e),vt(E,e),ce(S),ce(F),ce(Q),ce(W,e),ce(oe,e),Xe=!1,ht(nt)}}}const Ve=10;function Mt(s,l,t){const w="https://sos2324-22.appspot.com/api/v2/forbes-billionaires-list";let k=[],h="",B="",$=1,D=0;const o={rank:11,name:"Bernardose Arnault family",net_worth:211,age:74,country:"France",source:"LVMH",industry:"Fashion"};let u={rank:null,name:"",net_worth:null,age:null,country:"",source:"",industry:""};_t(()=>{b()});async function b(){try{let P=await fetch(`${w}/?offset=${D}&limit=${Ve}`,{method:"GET"}),f=await P.json();t(0,k=f),P.status===200||(k.length===0?(t(2,B="La lista esta vacía"),setTimeout(()=>{t(2,B="")},3e3)):(t(1,h="Error cargando personas"),setTimeout(()=>{t(1,h="")},3e3)))}catch(P){t(1,h=P)}}async function I(){const P=new URLSearchParams;for(const f in u)u[f]!==""&&u[f]!==null&&(f==="rank"||f==="age"||f==="net_worth"?Number(u[f]):u[f],P.append(f,u[f]));try{const f=await fetch(`${w}?${P}`,{methos:"GET"}),Y=await f.json();f.status===200?(t(0,k=Y),t(1,h="")):t(1,h="Error al realizar la búsqueda")}catch{t(1,h="Error del servidor al realizar la búsqueda")}}async function T(P){try{let f=await fetch(`${w}/${P}`,{method:"DELETE"});console.log(`Borrando billonario ${P}`),f.status===200?(t(2,B="Billonario borrado con éxito"),t(0,k=k.filter(Y=>Y.rank!==P)),setTimeout(()=>{t(2,B="")},3e3)):(t(1,h="Ese billonario no existe"),setTimeout(()=>{t(1,h="")},3e3))}catch(f){t(1,h=f)}}async function L(){try{(await fetch(w,{method:"DELETE"})).status==200?(t(2,B="Billonarios borrados con éxito"),t(0,k=[]),setTimeout(()=>{t(2,B="")},3e3)):(t(1,h="Ya están todos los billonarios borrados"),setTimeout(()=>{t(1,h="")},3e3))}catch(P){t(1,h=P)}}async function N(){try{t(4,o.rank=parseInt(o.rank),o),t(4,o.net_worth=parseFloat(o.net_worth),o),t(4,o.age=parseInt(o.age),o);let f=await(await fetch(w,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).status;console.log(`Creation response status ${f}`),f===201?(b(),t(2,B="Billonario creado con éxito"),setTimeout(()=>{t(2,B="")},3e3)):(t(1,h="El billonario ya existe o hay campos erróneos"),setTimeout(()=>{t(1,h="")},3e3))}catch(P){t(1,h=P)}}async function he(){k.length===Ve&&(D+=Ve,t(3,$+=1),await b())}async function H(){D=Math.max(0,D-Ve),t(3,$=Math.max(1,$-1)),await b()}function _e(){u.rank=this.value,t(5,u)}function J(){u.name=this.value,t(5,u)}function me(){u.net_worth=this.value,t(5,u)}function C(){u.age=this.value,t(5,u)}function S(){u.country=this.value,t(5,u)}function we(){u.source=this.value,t(5,u)}function Z(){u.industry=this.value,t(5,u)}function Pe(){o.rank=this.value,t(4,o)}function ge(){o.name=this.value,t(4,o)}function $e(){o.net_worth=this.value,t(4,o)}function F(){o.age=this.value,t(4,o)}function de(){o.country=this.value,t(4,o)}function K(){o.source=this.value,t(4,o)}function Se(){o.industry=this.value,t(4,o)}return[k,h,B,$,o,u,I,T,L,N,he,H,b,_e,J,me,C,S,we,Z,Pe,ge,$e,F,de,K,Se]}class Ht extends gt{constructor(l){super(),dt(this,l,Mt,yt,ct,{getForBillionaires:12},null,[-1,-1])}get getForBillionaires(){return this.$$.ctx[12]}}export{Ht as component};
