import{s as ht,r as _t,o as ct,i as gt}from"../chunks/scheduler.wWR6jiGY.js";import{S as dt,i as bt,e as s,h as _,j as fe,t as H,b as l,f as C,k as ut,l as c,d as u,m as me,c as j,n as D,a as I,g as o,o as m,p as he,q as U,r as B,u as J,v as Tt,s as tt,w as Z,x as _e,y as yt,z as vt}from"../chunks/index.j2r2S6jy.js";import{e as it}from"../chunks/each.D6YF6ztN.js";import{B as ye}from"../chunks/MessageContainer.svelte_svelte_type_style_lang.eMTc9cxz.js";import"../chunks/Theme.svelte_svelte_type_style_lang.C8eeSRjy.js";import{M as kt}from"../chunks/MessageContainer.CMkKOei7.js";function pt(n,r,t){const h=n.slice();return h[31]=r[t],h}function Et(n){let r;return{c(){r=H("Buscar")},l(t){r=j(t,"Buscar")},m(t,h){I(t,r,h)},d(t){t&&u(r)}}}function Pt(n){let r;return{c(){r=H("Crear")},l(t){r=j(t,"Crear")},m(t,h){I(t,r,h)},d(t){t&&u(r)}}}function $t(n){let r;return{c(){r=H("Borrar")},l(t){r=j(t,"Borrar")},m(t,h){I(t,r,h)},d(t){t&&u(r)}}}function ft(n){let r,t,h=n[31].name+"",N,p,$,P=n[31].profit+"",M,i,f,T;return f=new ye({props:{color:"danger",$$slots:{default:[$t]},$$scope:{ctx:n}}}),f.$on("click",function(){gt(n[6](n[31].name))&&n[6](n[31].name).apply(this,arguments)}),{c(){r=s("li"),t=s("a"),N=H(h),$=H("- "),M=H(P),i=_(),fe(f.$$.fragment),this.h()},l(y){r=l(y,"LI",{});var g=C(r);t=l(g,"A",{href:!0});var A=C(t);N=j(A,h),A.forEach(u),$=j(g,"- "),M=j(g,P),g.forEach(u),i=c(y),me(f.$$.fragment,y),this.h()},h(){D(t,"href",p="/forbes-billonaires/"+n[31].name+"/"+n[31].country)},m(y,g){I(y,r,g),o(r,t),o(t,N),o(r,$),o(r,M),I(y,i,g),he(f,y,g),T=!0},p(y,g){n=y,(!T||g[0]&1)&&h!==(h=n[31].name+"")&&tt(N,h),(!T||g[0]&1&&p!==(p="/forbes-billonaires/"+n[31].name+"/"+n[31].country))&&D(t,"href",p),(!T||g[0]&1)&&P!==(P=n[31].profit+"")&&tt(M,P);const A={};g[1]&8&&(A.$$scope={dirty:g,ctx:n}),f.$set(A)},i(y){T||(J(f.$$.fragment,y),T=!0)},o(y){Z(f.$$.fragment,y),T=!1},d(y){y&&(u(r),u(i)),_e(f,y)}}}function wt(n){let r;return{c(){r=H("Borrar todo")},l(t){r=j(t,"Borrar todo")},m(t,h){I(t,r,h)},d(t){t&&u(r)}}}function Ct(n){let r;return{c(){r=H("Página anterior")},l(t){r=j(t,"Página anterior")},m(t,h){I(t,r,h)},d(t){t&&u(r)}}}function It(n){let r;return{c(){r=H("Página siguiente")},l(t){r=j(t,"Página siguiente")},m(t,h){I(t,r,h)},d(t){t&&u(r)}}}function Nt(n){let r,t,h="Buscar por campos",N,p,$,P,M,i,f,T,y,g,A,q,ve,F,ke,R,ce,S,ge,z,x,Se="<tr><th>Ranking</th> <th>Nombre</th> <th>Pais</th> <th>Ventas</th> <th>Beneficio</th> <th>Activos</th> <th>Valor de mercado</th> <th>Año</th></tr>",Ee,se,b,le,O,Pe,ue,Y,v,k,V,ze,$e,ee,Oe,we,te,Ge,Ce,ne,Je,Ie,ae,Ye,Ne,re,Ke,De,K,Ve,ie,He,Q,je,G,W,Qe,de,We,qe,Xe,X,Fe,oe,Ue,Ze,nt;S=new ye({props:{color:"primary",$$slots:{default:[Et]},$$scope:{ctx:n}}}),S.$on("click",n[9]),K=new ye({props:{color:"primary",$$slots:{default:[Pt]},$$scope:{ctx:n}}}),K.$on("click",n[8]);let pe=it(n[0]),d=[];for(let e=0;e<pe.length;e+=1)d[e]=ft(pt(n,pe,e));const mt=e=>Z(d[e],1,1,()=>{d[e]=null});return Q=new ye({props:{color:"danger",$$slots:{default:[wt]},$$scope:{ctx:n}}}),Q.$on("click",n[7]),W=new ye({props:{color:"primary",$$slots:{default:[Ct]},$$scope:{ctx:n}}}),W.$on("click",n[11]),X=new ye({props:{color:"primary",$$slots:{default:[It]},$$scope:{ctx:n}}}),X.$on("click",n[10]),oe=new kt({props:{Msg:n[2],errorMsg:n[1]}}),{c(){r=s("div"),t=s("h2"),t.textContent=h,N=_(),p=s("input"),$=_(),P=s("input"),M=_(),i=s("input"),f=_(),T=s("input"),y=_(),g=s("input"),A=_(),q=s("input"),ve=_(),F=s("input"),ke=_(),R=s("input"),ce=_(),fe(S.$$.fragment),ge=_(),z=s("table"),x=s("thead"),x.innerHTML=Se,Ee=_(),se=s("tbody"),b=s("tr"),le=s("td"),O=s("input"),Pe=_(),ue=s("td"),Y=s("input"),v=_(),k=s("td"),V=s("input"),ze=_(),$e=s("td"),ee=s("input"),Oe=_(),we=s("td"),te=s("input"),Ge=_(),Ce=s("td"),ne=s("input"),Je=_(),Ie=s("td"),ae=s("input"),Ye=_(),Ne=s("td"),re=s("input"),Ke=_(),De=s("td"),fe(K.$$.fragment),Ve=_(),ie=s("ul");for(let e=0;e<d.length;e+=1)d[e].c();He=_(),fe(Q.$$.fragment),je=_(),G=s("div"),fe(W.$$.fragment),Qe=_(),de=s("span"),We=H("Página actual: "),qe=H(n[3]),Xe=_(),fe(X.$$.fragment),Fe=_(),fe(oe.$$.fragment),this.h()},l(e){r=l(e,"DIV",{});var a=C(r);t=l(a,"H2",{"data-svelte-h":!0}),ut(t)!=="svelte-10oc9be"&&(t.textContent=h),N=c(a),p=l(a,"INPUT",{type:!0,placeholder:!0}),$=c(a),P=l(a,"INPUT",{placeholder:!0}),M=c(a),i=l(a,"INPUT",{placeholder:!0}),f=c(a),T=l(a,"INPUT",{placeholder:!0}),y=c(a),g=l(a,"INPUT",{placeholder:!0}),A=c(a),q=l(a,"INPUT",{placeholder:!0}),ve=c(a),F=l(a,"INPUT",{placeholder:!0}),ke=c(a),R=l(a,"INPUT",{placeholder:!0}),a.forEach(u),ce=c(e),me(S.$$.fragment,e),ge=c(e),z=l(e,"TABLE",{});var L=C(z);x=l(L,"THEAD",{"data-svelte-h":!0}),ut(x)!=="svelte-1lad2ry"&&(x.innerHTML=Se),Ee=c(L),se=l(L,"TBODY",{});var Be=C(se);b=l(Be,"TR",{});var E=C(b);le=l(E,"TD",{});var Me=C(le);O=l(Me,"INPUT",{type:!0}),Me.forEach(u),Pe=c(E),ue=l(E,"TD",{});var Le=C(ue);Y=l(Le,"INPUT",{}),Le.forEach(u),v=c(E),k=l(E,"TD",{});var be=C(k);V=l(be,"INPUT",{}),be.forEach(u),ze=c(E),$e=l(E,"TD",{});var w=C($e);ee=l(w,"INPUT",{type:!0}),w.forEach(u),Oe=c(E),we=l(E,"TD",{});var Ae=C(we);te=l(Ae,"INPUT",{type:!0}),Ae.forEach(u),Ge=c(E),Ce=l(E,"TD",{});var at=C(Ce);ne=l(at,"INPUT",{type:!0}),at.forEach(u),Je=c(E),Ie=l(E,"TD",{});var rt=C(Ie);ae=l(rt,"INPUT",{type:!0}),rt.forEach(u),Ye=c(E),Ne=l(E,"TD",{});var ot=C(Ne);re=l(ot,"INPUT",{type:!0}),ot.forEach(u),Ke=c(E),De=l(E,"TD",{});var st=C(De);me(K.$$.fragment,st),st.forEach(u),E.forEach(u),Be.forEach(u),L.forEach(u),Ve=c(e),ie=l(e,"UL",{});var lt=C(ie);for(let et=0;et<d.length;et+=1)d[et].l(lt);lt.forEach(u),He=c(e),me(Q.$$.fragment,e),je=c(e),G=l(e,"DIV",{});var Te=C(G);me(W.$$.fragment,Te),Qe=c(Te),de=l(Te,"SPAN",{});var xe=C(de);We=j(xe,"Página actual: "),qe=j(xe,n[3]),xe.forEach(u),Xe=c(Te),me(X.$$.fragment,Te),Te.forEach(u),Fe=c(e),me(oe.$$.fragment,e),this.h()},h(){D(p,"type","number"),D(p,"placeholder","Ranking"),D(P,"placeholder","Nombre Compañia"),D(i,"placeholder","País"),D(T,"placeholder","Ventas"),D(g,"placeholder","Beneficio"),D(q,"placeholder","Activos"),D(F,"placeholder","Valor de Mercado"),D(R,"placeholder","Año"),D(O,"type","number"),D(ee,"type","number"),D(te,"type","number"),D(ne,"type","number"),D(ae,"type","number"),D(re,"type","number")},m(e,a){I(e,r,a),o(r,t),o(r,N),o(r,p),m(p,n[4].rank),o(r,$),o(r,P),m(P,n[4].name),o(r,M),o(r,i),m(i,n[4].country),o(r,f),o(r,T),m(T,n[4].sale),o(r,y),o(r,g),m(g,n[4].profit),o(r,A),o(r,q),m(q,n[4].asset),o(r,ve),o(r,F),m(F,n[4].market_value),o(r,ke),o(r,R),m(R,n[4].year),I(e,ce,a),he(S,e,a),I(e,ge,a),I(e,z,a),o(z,x),o(z,Ee),o(z,se),o(se,b),o(b,le),o(le,O),m(O,n[5].rank),o(b,Pe),o(b,ue),o(ue,Y),m(Y,n[5].name),o(b,v),o(b,k),o(k,V),m(V,n[5].country),o(b,ze),o(b,$e),o($e,ee),m(ee,n[5].sale),o(b,Oe),o(b,we),o(we,te),m(te,n[5].profit),o(b,Ge),o(b,Ce),o(Ce,ne),m(ne,n[5].asset),o(b,Je),o(b,Ie),o(Ie,ae),m(ae,n[5].market_value),o(b,Ye),o(b,Ne),o(Ne,re),m(re,n[5].year),o(b,Ke),o(b,De),he(K,De,null),I(e,Ve,a),I(e,ie,a);for(let L=0;L<d.length;L+=1)d[L]&&d[L].m(ie,null);I(e,He,a),he(Q,e,a),I(e,je,a),I(e,G,a),he(W,G,null),o(G,Qe),o(G,de),o(de,We),o(de,qe),o(G,Xe),he(X,G,null),I(e,Fe,a),he(oe,e,a),Ue=!0,Ze||(nt=[U(p,"input",n[13]),U(P,"input",n[14]),U(i,"input",n[15]),U(T,"input",n[16]),U(g,"input",n[17]),U(q,"input",n[18]),U(F,"input",n[19]),U(R,"input",n[20]),U(O,"input",n[21]),U(Y,"input",n[22]),U(V,"input",n[23]),U(ee,"input",n[24]),U(te,"input",n[25]),U(ne,"input",n[26]),U(ae,"input",n[27]),U(re,"input",n[28])],Ze=!0)},p(e,a){a[0]&16&&B(p.value)!==e[4].rank&&m(p,e[4].rank),a[0]&16&&P.value!==e[4].name&&m(P,e[4].name),a[0]&16&&i.value!==e[4].country&&m(i,e[4].country),a[0]&16&&T.value!==e[4].sale&&m(T,e[4].sale),a[0]&16&&g.value!==e[4].profit&&m(g,e[4].profit),a[0]&16&&q.value!==e[4].asset&&m(q,e[4].asset),a[0]&16&&F.value!==e[4].market_value&&m(F,e[4].market_value),a[0]&16&&R.value!==e[4].year&&m(R,e[4].year);const L={};a[1]&8&&(L.$$scope={dirty:a,ctx:e}),S.$set(L),a[0]&32&&B(O.value)!==e[5].rank&&m(O,e[5].rank),a[0]&32&&Y.value!==e[5].name&&m(Y,e[5].name),a[0]&32&&V.value!==e[5].country&&m(V,e[5].country),a[0]&32&&B(ee.value)!==e[5].sale&&m(ee,e[5].sale),a[0]&32&&B(te.value)!==e[5].profit&&m(te,e[5].profit),a[0]&32&&B(ne.value)!==e[5].asset&&m(ne,e[5].asset),a[0]&32&&B(ae.value)!==e[5].market_value&&m(ae,e[5].market_value),a[0]&32&&B(re.value)!==e[5].year&&m(re,e[5].year);const Be={};if(a[1]&8&&(Be.$$scope={dirty:a,ctx:e}),K.$set(Be),a[0]&65){pe=it(e[0]);let w;for(w=0;w<pe.length;w+=1){const Ae=pt(e,pe,w);d[w]?(d[w].p(Ae,a),J(d[w],1)):(d[w]=ft(Ae),d[w].c(),J(d[w],1),d[w].m(ie,null))}for(vt(),w=pe.length;w<d.length;w+=1)mt(w);Tt()}const E={};a[1]&8&&(E.$$scope={dirty:a,ctx:e}),Q.$set(E);const Me={};a[1]&8&&(Me.$$scope={dirty:a,ctx:e}),W.$set(Me),(!Ue||a[0]&8)&&tt(qe,e[3]);const Le={};a[1]&8&&(Le.$$scope={dirty:a,ctx:e}),X.$set(Le);const be={};a[0]&4&&(be.Msg=e[2]),a[0]&2&&(be.errorMsg=e[1]),oe.$set(be)},i(e){if(!Ue){J(S.$$.fragment,e),J(K.$$.fragment,e);for(let a=0;a<pe.length;a+=1)J(d[a]);J(Q.$$.fragment,e),J(W.$$.fragment,e),J(X.$$.fragment,e),J(oe.$$.fragment,e),Ue=!0}},o(e){Z(S.$$.fragment,e),Z(K.$$.fragment,e),d=d.filter(Boolean);for(let a=0;a<d.length;a+=1)Z(d[a]);Z(Q.$$.fragment,e),Z(W.$$.fragment,e),Z(X.$$.fragment,e),Z(oe.$$.fragment,e),Ue=!1},d(e){e&&(u(r),u(ce),u(ge),u(z),u(Ve),u(ie),u(He),u(je),u(G),u(Fe)),_e(S,e),_e(K),yt(d,e),_e(Q,e),_e(W),_e(X),_e(oe,e),Ze=!1,_t(nt)}}}const Re=10;function Dt(n,r,t){let h="/api/v2/forbes-billonaires",N=[],p="",$="",P=1,M=0,i={rank:null,name:"",country:"",sale:null,profit:null,asset:null,market_value:null,year:null};const f={rank:20,name:"Honda",country:"Japon",sale:15.381,profit:41.9837,asset:347.238,market_value:229.805,year:2018};ct(()=>{T()});async function T(){try{let v=await fetch(`${h}/?offset=${M}&limit=${Re}`,{method:"GET"}),k=await v.json();t(0,N=k),v.status===200||(N.length===0?(t(2,$="La lista esta vacía"),setTimeout(()=>{t(2,$="")},3e3)):v.status===400?(t(1,p="Formato incorrecto"),setTimeout(()=>{t(2,$="")},3e3)):(t(1,p="Error cargando compañias"),setTimeout(()=>{t(1,p="")},3e3)))}catch(v){t(1,p=v)}}async function y(v){try{let k=await fetch(h+"/"+v,{method:"DELETE"});console.log(`Deleting company with name ${v}`),k.status==200?(t(2,$="Compañia borrada con éxito"),t(0,N=N.filter(V=>V.name!==v)),setTimeout(()=>{t(2,$="")},3e3)):(t(1,p="Esa Compañia no existe"),setTimeout(()=>{t(1,p="")},3e3))}catch(k){t(1,p=k)}}async function g(){try{(await fetch(h,{method:"DELETE"})).status==200?(t(2,$="Compañias borrada con éxito"),t(0,N=[]),setTimeout(()=>{t(2,$="")},3e3)):(t(1,p="Ya están todas las Compañias borradas"),setTimeout(()=>{t(1,p="")},3e3))}catch(v){t(1,p=v)}}async function A(){try{let k=await(await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).status;console.log(`Creation response status ${k}`),k===201?(t(2,$="compañia creada con éxito"),T(),setTimeout(()=>{t(2,$="")},3e3)):(t(1,p="La compañia ya existe"),setTimeout(()=>{t(1,p="")},3e3))}catch(v){t(1,p=v)}}async function q(){const v=new URLSearchParams;for(const k in i)i[k]&&v.append(k,i[k]);try{const k=await fetch(`${h}/?${v}`,{method:"GET"}),V=await k.json();k.status===200?(t(0,N=V),t(1,p="")):t(1,p="Error al realizar la búsqueda")}catch{t(1,p="Error del servidor al realizar la búsqueda")}}async function ve(){N.length===Re&&(M+=Re,t(3,P+=1),await T())}async function F(){M=Math.max(0,M-Re),t(3,P=Math.max(1,P-1)),await T()}function ke(){i.rank=B(this.value),t(4,i)}function R(){i.name=this.value,t(4,i)}function ce(){i.country=this.value,t(4,i)}function S(){i.sale=this.value,t(4,i)}function ge(){i.profit=this.value,t(4,i)}function z(){i.asset=this.value,t(4,i)}function x(){i.market_value=this.value,t(4,i)}function Se(){i.year=this.value,t(4,i)}function Ee(){f.rank=B(this.value),t(5,f)}function se(){f.name=this.value,t(5,f)}function b(){f.country=this.value,t(5,f)}function le(){f.sale=B(this.value),t(5,f)}function O(){f.profit=B(this.value),t(5,f)}function Pe(){f.asset=B(this.value),t(5,f)}function ue(){f.market_value=B(this.value),t(5,f)}function Y(){f.year=B(this.value),t(5,f)}return[N,p,$,P,i,f,y,g,A,q,ve,F,T,ke,R,ce,S,ge,z,x,Se,Ee,se,b,le,O,Pe,ue,Y]}class Vt extends dt{constructor(r){super(),bt(this,r,Dt,Nt,ht,{getForbes_billonaires:12},null,[-1,-1])}get getForbes_billonaires(){return this.$$.ctx[12]}}export{Vt as component};
