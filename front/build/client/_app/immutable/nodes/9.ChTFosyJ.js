import{s as de,c as ve,o as Te,r as ke,n as fe}from"../chunks/scheduler.Dc1jLLu_.js";import{S as be,i as ge,h as N,j as pe,l as P,m as _e,a as A,p as me,u as J,w as W,v as Ee,d as _,x as he,e as f,b as p,f as g,k as ce,g as o,o as k,q as U,t as D,c as $,A as Ne}from"../chunks/index.DHEfdUHM.js";import{p as Pe}from"../chunks/stores.CgpmYkgD.js";import{M as ye,B as Me}from"../chunks/MessageContainer.IT5oqPDN.js";import"../chunks/Theme.svelte_svelte_type_style_lang.NJlEhCd8.js";function Ce(a){let n,t="Esta persona no existe";return{c(){n=f("p"),n.textContent=t},l(i){n=p(i,"P",{"data-svelte-h":!0}),ce(n)!=="svelte-1e4eww8"&&(n.textContent=t)},m(i,c){A(i,n,c)},p:fe,d(i){i&&_(n)}}}function we(a){let n,t,i=a[3].name+"",c,T,r;return{c(){n=f("h2"),t=D("Detalles of "),c=D(i),T=N(),r=f("hr")},l(l){n=p(l,"H2",{});var e=g(n);t=$(e,"Detalles of "),c=$(e,i),e.forEach(_),T=P(l),r=p(l,"HR",{})},m(l,e){A(l,n,e),o(n,t),o(n,c),A(l,T,e),A(l,r,e)},p:fe,d(l){l&&(_(n),_(T),_(r))}}}function ie(a){let n,t,i="<tr><th>Ranking</th> <th>Nombre</th> <th>Pais</th> <th>Ventas</th> <th>Beneficio</th> <th>Activos</th> <th>Valor de mercado</th> <th>Año</th></tr>",c,T,r,l,e,s,m,b,q,B,y,O,H,M,V,E,h,z,L,w,Y,R,I,K,S,j,X,F,C,Q,Z,x;return C=new Me({props:{color:"primary",$$slots:{default:[Ie]},$$scope:{ctx:a}}}),C.$on("click",a[4]),{c(){n=f("table"),t=f("thead"),t.innerHTML=i,c=N(),T=f("tbody"),r=f("tr"),l=f("td"),e=f("input"),s=N(),m=f("td"),b=f("input"),q=N(),B=f("td"),y=f("input"),O=N(),H=f("td"),M=f("input"),V=N(),E=f("td"),h=f("input"),z=N(),L=f("td"),w=f("input"),Y=N(),R=f("td"),I=f("input"),K=N(),S=f("td"),j=f("input"),X=N(),F=f("td"),pe(C.$$.fragment)},l(u){n=p(u,"TABLE",{});var v=g(n);t=p(v,"THEAD",{"data-svelte-h":!0}),ce(t)!=="svelte-1lad2ry"&&(t.innerHTML=i),c=P(v),T=p(v,"TBODY",{});var G=g(T);r=p(G,"TR",{});var d=g(r);l=p(d,"TD",{});var ee=g(l);e=p(ee,"INPUT",{}),ee.forEach(_),s=P(d),m=p(d,"TD",{});var te=g(m);b=p(te,"INPUT",{}),te.forEach(_),q=P(d),B=p(d,"TD",{});var ne=g(B);y=p(ne,"INPUT",{}),ne.forEach(_),O=P(d),H=p(d,"TD",{});var re=g(H);M=p(re,"INPUT",{}),re.forEach(_),V=P(d),E=p(d,"TD",{});var se=g(E);h=p(se,"INPUT",{}),se.forEach(_),z=P(d),L=p(d,"TD",{});var ae=g(L);w=p(ae,"INPUT",{}),ae.forEach(_),Y=P(d),R=p(d,"TD",{});var le=g(R);I=p(le,"INPUT",{}),le.forEach(_),K=P(d),S=p(d,"TD",{});var oe=g(S);j=p(oe,"INPUT",{}),oe.forEach(_),X=P(d),F=p(d,"TD",{});var ue=g(F);_e(C.$$.fragment,ue),ue.forEach(_),d.forEach(_),G.forEach(_),v.forEach(_)},m(u,v){A(u,n,v),o(n,t),o(n,c),o(n,T),o(T,r),o(r,l),o(l,e),k(e,a[2].rank),o(r,s),o(r,m),o(m,b),k(b,a[2].name),o(r,q),o(r,B),o(B,y),k(y,a[2].country),o(r,O),o(r,H),o(H,M),k(M,a[2].sale),o(r,V),o(r,E),o(E,h),k(h,a[2].profit),o(r,z),o(r,L),o(L,w),k(w,a[2].asset),o(r,Y),o(r,R),o(R,I),k(I,a[2].market_value),o(r,K),o(r,S),o(S,j),k(j,a[2].year),o(r,X),o(r,F),me(C,F,null),Q=!0,Z||(x=[U(e,"input",a[5]),U(b,"input",a[6]),U(y,"input",a[7]),U(M,"input",a[8]),U(h,"input",a[9]),U(w,"input",a[10]),U(I,"input",a[11]),U(j,"input",a[12])],Z=!0)},p(u,v){v&4&&e.value!==u[2].rank&&k(e,u[2].rank),v&4&&b.value!==u[2].name&&k(b,u[2].name),v&4&&y.value!==u[2].country&&k(y,u[2].country),v&4&&M.value!==u[2].sale&&k(M,u[2].sale),v&4&&h.value!==u[2].profit&&k(h,u[2].profit),v&4&&w.value!==u[2].asset&&k(w,u[2].asset),v&4&&I.value!==u[2].market_value&&k(I,u[2].market_value),v&4&&j.value!==u[2].year&&k(j,u[2].year);const G={};v&65536&&(G.$$scope={dirty:v,ctx:u}),C.$set(G)},i(u){Q||(J(C.$$.fragment,u),Q=!0)},o(u){W(C.$$.fragment,u),Q=!1},d(u){u&&_(n),he(C),Z=!1,ke(x)}}}function Ie(a){let n;return{c(){n=D("Actualizar")},l(t){n=$(t,"Actualizar")},m(t,i){A(t,n,i)},d(t){t&&_(n)}}}function Ue(a){let n,t,i,c;function T(s,m){return s[2]?we:Ce}let r=T(a),l=r(a),e=a[2]&&ie(a);return i=new ye({props:{Msg:a[1],errorMsg:a[0]}}),{c(){l.c(),n=N(),e&&e.c(),t=N(),pe(i.$$.fragment)},l(s){l.l(s),n=P(s),e&&e.l(s),t=P(s),_e(i.$$.fragment,s)},m(s,m){l.m(s,m),A(s,n,m),e&&e.m(s,m),A(s,t,m),me(i,s,m),c=!0},p(s,[m]){r===(r=T(s))&&l?l.p(s,m):(l.d(1),l=r(s),l&&(l.c(),l.m(n.parentNode,n))),s[2]?e?(e.p(s,m),m&4&&J(e,1)):(e=ie(s),e.c(),J(e,1),e.m(t.parentNode,t)):e&&(Ne(),W(e,1,1,()=>{e=null}),Ee());const b={};m&2&&(b.Msg=s[1]),m&1&&(b.errorMsg=s[0]),i.$set(b)},i(s){c||(J(e),J(i.$$.fragment,s),c=!0)},o(s){W(e),W(i.$$.fragment,s),c=!1},d(s){s&&(_(n),_(t)),l.d(s),e&&e.d(s),he(i,s)}}}function Ae(a,n,t){let i;ve(a,Pe,E=>t(14,i=E));let c=i.params,T="/api/v2/forbes-billonaires/"+c.name+"/"+c.country,r="",l="",e;async function s(){const E=await fetch(T,{method:"GET"}),h=await E.json();try{let z=h.rank,L=h.name,w=h.country,Y=h.sale,R=h.profit,I=h.asset,K=h.market_value,S=h.year;E.status==404&&(t(0,r="No existe la compañia"),setTimeout(()=>{t(1,l="")},3e3))}catch(z){t(0,r=z)}return h}Te(async()=>{t(2,e=await s())});async function m(){const E={rank:e==null?void 0:e.rank,name:e==null?void 0:e.name,country:e==null?void 0:e.country,sale:e==null?void 0:e.sale,profit:e==null?void 0:e.profit,asset:e==null?void 0:e.asset,market_value:e==null?void 0:e.market_value,year:e==null?void 0:e.year};try{(await fetch(T,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)})).status==200?(t(1,l="Compañia actualizada con éxito"),s(),setTimeout(()=>{t(1,l="")},3e3)):(t(0,r="Esa compañia no existe"),setTimeout(()=>{t(0,r="")},3e3))}catch(h){t(0,r=h)}}function b(){e.rank=this.value,t(2,e)}function q(){e.name=this.value,t(2,e)}function B(){e.country=this.value,t(2,e)}function y(){e.sale=this.value,t(2,e)}function O(){e.profit=this.value,t(2,e)}function H(){e.asset=this.value,t(2,e)}function M(){e.market_value=this.value,t(2,e)}function V(){e.year=this.value,t(2,e)}return[r,l,e,c,m,b,q,B,y,O,H,M,V]}class Re extends be{constructor(n){super(),ge(this,n,Ae,Ue,de,{})}}export{Re as component};
