import{s as vt,c as Tt,o as gt,r as bt,n as Et}from"../chunks/scheduler.wWR6jiGY.js";import{S as yt,i as kt,h as b,j as dt,l as E,m as _t,a as H,o as ht,q as J,u as Q,r as Pt,d as c,v as mt,e as p,b as f,f as g,k as x,x as S,g as o,n as T,p as j,t as tt,c as et,y as Mt,s as wt}from"../chunks/index.BrUfcjbG.js";import{p as It}from"../chunks/stores.BtRtmNkt.js";import{B as Nt}from"../chunks/MessageContainer.svelte_svelte_type_style_lang.BTm8g4uz.js";import"../chunks/Theme.svelte_svelte_type_style_lang.C8eeSRjy.js";import{M as Bt}from"../chunks/MessageContainer.BhMVhnr4.js";function zt(a){let n,e="Esta persona no existe.";return{c(){n=p("p"),n.textContent=e},l(u){n=f(u,"P",{"data-svelte-h":!0}),x(n)!=="svelte-1m4dz9i"&&(n.textContent=e)},m(u,h){H(u,n,h)},p:Et,d(u){u&&c(n)}}}function At(a){let n,e,u=a[2].name+"",h,m,l;return{c(){n=p("h2"),e=tt("Detalles de "),h=tt(u),m=b(),l=p("hr")},l(r){n=f(r,"H2",{});var t=g(n);e=et(t,"Detalles de "),h=et(t,u),t.forEach(c),m=E(r),l=f(r,"HR",{})},m(r,t){H(r,n,t),o(n,e),o(n,h),H(r,m,t),H(r,l,t)},p(r,t){t&4&&u!==(u=r[2].name+"")&&wt(h,u)},d(r){r&&(c(n),c(m),c(l))}}}function ct(a){let n,e,u="<tr><th>Puesto</th> <th>Nombre</th> <th>Patrimonio neto (billones)</th> <th>Edad</th></tr>",h,m,l,r,t,s,d,v,O,U,P,q,L,M,w,y,nt="<tr><th>País</th> <th>Empresa</th> <th>Industria</th></tr>",V,k,R,N,W,Y,B,X,D,z,Z,F,I,K,$,st;return I=new Nt({props:{color:"primary",$$slots:{default:[Ct]},$$scope:{ctx:a}}}),I.$on("click",a[3]),{c(){n=p("table"),e=p("thead"),e.innerHTML=u,h=b(),m=p("tbody"),l=p("tr"),r=p("td"),t=p("input"),s=b(),d=p("td"),v=p("input"),O=b(),U=p("td"),P=p("input"),q=b(),L=p("td"),M=p("input"),w=b(),y=p("thead"),y.innerHTML=nt,V=b(),k=p("tbody"),R=p("td"),N=p("input"),W=b(),Y=p("td"),B=p("input"),X=b(),D=p("td"),z=p("input"),Z=b(),F=p("td"),dt(I.$$.fragment),this.h()},l(i){n=f(i,"TABLE",{});var _=g(n);e=f(_,"THEAD",{"data-svelte-h":!0}),x(e)!=="svelte-1vz6oz4"&&(e.innerHTML=u),h=E(_),m=f(_,"TBODY",{});var G=g(m);l=f(G,"TR",{});var A=g(l);r=f(A,"TD",{});var rt=g(r);t=f(rt,"INPUT",{class:!0}),rt.forEach(c),s=E(A),d=f(A,"TD",{});var ot=g(d);v=f(ot,"INPUT",{class:!0}),ot.forEach(c),O=E(A),U=f(A,"TD",{});var at=g(U);P=f(at,"INPUT",{class:!0}),at.forEach(c),q=E(A),L=f(A,"TD",{});var lt=g(L);M=f(lt,"INPUT",{class:!0}),lt.forEach(c),A.forEach(c),G.forEach(c),w=E(_),y=f(_,"THEAD",{"data-svelte-h":!0}),x(y)!=="svelte-iryo44"&&(y.innerHTML=nt),V=E(_),k=f(_,"TBODY",{});var C=g(k);R=f(C,"TD",{});var ut=g(R);N=f(ut,"INPUT",{class:!0}),ut.forEach(c),W=E(C),Y=f(C,"TD",{});var it=g(Y);B=f(it,"INPUT",{class:!0}),it.forEach(c),X=E(C),D=f(C,"TD",{});var pt=g(D);z=f(pt,"INPUT",{class:!0}),pt.forEach(c),Z=E(C),F=f(C,"TD",{});var ft=g(F);_t(I.$$.fragment,ft),ft.forEach(c),C.forEach(c),_.forEach(c),this.h()},h(){t.disabled=!0,S(t,"class","svelte-1b14d9v"),S(v,"class","svelte-1b14d9v"),S(P,"class","svelte-1b14d9v"),S(M,"class","svelte-1b14d9v"),S(N,"class","svelte-1b14d9v"),S(B,"class","svelte-1b14d9v"),S(z,"class","svelte-1b14d9v")},m(i,_){H(i,n,_),o(n,e),o(n,h),o(n,m),o(m,l),o(l,r),o(r,t),T(t,a[2].rank),o(l,s),o(l,d),o(d,v),T(v,a[2].name),o(l,O),o(l,U),o(U,P),T(P,a[2].net_worth),o(l,q),o(l,L),o(L,M),T(M,a[2].age),o(n,w),o(n,y),o(n,V),o(n,k),o(k,R),o(R,N),T(N,a[2].country),o(k,W),o(k,Y),o(Y,B),T(B,a[2].source),o(k,X),o(k,D),o(D,z),T(z,a[2].industry),o(k,Z),o(k,F),ht(I,F,null),K=!0,$||(st=[j(t,"input",a[4]),j(v,"input",a[5]),j(P,"input",a[6]),j(M,"input",a[7]),j(N,"input",a[8]),j(B,"input",a[9]),j(z,"input",a[10])],$=!0)},p(i,_){_&4&&t.value!==i[2].rank&&T(t,i[2].rank),_&4&&v.value!==i[2].name&&T(v,i[2].name),_&4&&P.value!==i[2].net_worth&&T(P,i[2].net_worth),_&4&&M.value!==i[2].age&&T(M,i[2].age),_&4&&N.value!==i[2].country&&T(N,i[2].country),_&4&&B.value!==i[2].source&&T(B,i[2].source),_&4&&z.value!==i[2].industry&&T(z,i[2].industry);const G={};_&32768&&(G.$$scope={dirty:_,ctx:i}),I.$set(G)},i(i){K||(J(I.$$.fragment,i),K=!0)},o(i){Q(I.$$.fragment,i),K=!1},d(i){i&&c(n),mt(I),$=!1,bt(st)}}}function Ct(a){let n;return{c(){n=tt("Actualizar")},l(e){n=et(e,"Actualizar")},m(e,u){H(e,n,u)},d(e){e&&c(n)}}}function Ht(a){let n,e,u,h;function m(s,d){return s[2]?At:zt}let l=m(a),r=l(a),t=a[2]&&ct(a);return u=new Bt({props:{Msg:a[1],errorMsg:a[0]}}),{c(){r.c(),n=b(),t&&t.c(),e=b(),dt(u.$$.fragment)},l(s){r.l(s),n=E(s),t&&t.l(s),e=E(s),_t(u.$$.fragment,s)},m(s,d){r.m(s,d),H(s,n,d),t&&t.m(s,d),H(s,e,d),ht(u,s,d),h=!0},p(s,[d]){l===(l=m(s))&&r?r.p(s,d):(r.d(1),r=l(s),r&&(r.c(),r.m(n.parentNode,n))),s[2]?t?(t.p(s,d),d&4&&J(t,1)):(t=ct(s),t.c(),J(t,1),t.m(e.parentNode,e)):t&&(Mt(),Q(t,1,1,()=>{t=null}),Pt());const v={};d&2&&(v.Msg=s[1]),d&1&&(v.errorMsg=s[0]),u.$set(v)},i(s){h||(J(t),J(u.$$.fragment,s),h=!0)},o(s){Q(t),Q(u.$$.fragment,s),h=!1},d(s){s&&(c(n),c(e)),r.d(s),t&&t.d(s),mt(u,s)}}}const Ut="http://localhost:10000";function Lt(a,n,e){let u;Tt(a,It,w=>e(11,u=w));let h=u.params;const m=`${Ut}/api/v2/forbes-billionaires-list/${h.rank}`;let l="",r="",t=null;async function s(){const w=await fetch(m,{method:"GET"});try{return w.status===404?(e(0,l=`El billonario con el puesto ${h.rank} no existe`),setTimeout(()=>{e(0,l="")},3e3),null):await w.json()}catch{return null}}async function d(){const w={rank:parseInt(t==null?void 0:t.rank),name:t==null?void 0:t.name,net_worth:parseFloat(t==null?void 0:t.net_worth),age:parseInt(t==null?void 0:t.age),country:t==null?void 0:t.country,source:t==null?void 0:t.source,industry:t==null?void 0:t.industry};try{(await fetch(m,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)})).ok?(e(1,r="Billonario actualizado con éxito"),s(),setTimeout(()=>{e(1,r="")},3e3)):(e(0,l="Error al actualizar el billonario"),setTimeout(()=>{e(0,l="")},3e3))}catch(y){e(0,l=y.message||"Error de red al intentar actualizar el billonario"),setTimeout(()=>{e(0,l="")},3e3)}}gt(async()=>{e(2,t=await s()),t&&console.log(t.name)});function v(){t.rank=this.value,e(2,t)}function O(){t.name=this.value,e(2,t)}function U(){t.net_worth=this.value,e(2,t)}function P(){t.age=this.value,e(2,t)}function q(){t.country=this.value,e(2,t)}function L(){t.source=this.value,e(2,t)}function M(){t.industry=this.value,e(2,t)}return[l,r,t,d,v,O,U,P,q,L,M]}class Dt extends yt{constructor(n){super(),kt(this,n,Lt,Ht,vt,{})}}export{Dt as component};
