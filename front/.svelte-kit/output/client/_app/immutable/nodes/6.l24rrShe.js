import{s as ct,r as ht,o as _t,i as mt}from"../chunks/scheduler.wWR6jiGY.js";import{S as gt,i as dt,e as a,h as g,j as pe,t as V,b as u,k as qe,l as d,m as fe,f as y,d as r,c as O,x as E,a as f,n as h,o as ce,g as o,p as C,q as Y,r as Tt,s as tt,u as Z,v as he,w as vt,y as bt}from"../chunks/index.BrUfcjbG.js";import{e as ut}from"../chunks/each.D6YF6ztN.js";import{B as we}from"../chunks/MessageContainer.svelte_svelte_type_style_lang.BTm8g4uz.js";import"../chunks/Theme.svelte_svelte_type_style_lang.C8eeSRjy.js";import{M as Et}from"../chunks/MessageContainer.BhMVhnr4.js";function it(s,l,t){const p=s.slice();return p[29]=l[t],p}function wt(s){let l;return{c(){l=V("Buscar")},l(t){l=O(t,"Buscar")},m(t,p){f(t,l,p)},d(t){t&&r(l)}}}function Pt(s){let l;return{c(){l=V("Borrar")},l(t){l=O(t,"Borrar")},m(t,p){f(t,l,p)},d(t){t&&r(l)}}}function pt(s){let l,t,p,_=s[29].name+"",m,T,H,P=s[29].net_worth+"",i,c,$,k;return $=new we({props:{class:"delete-button",color:"danger",$$slots:{default:[Pt]},$$scope:{ctx:s}}}),$.$on("click",function(){mt(s[7](s[29].rank))&&s[7](s[29].rank).apply(this,arguments)}),{c(){l=a("div"),t=a("li"),p=a("a"),m=V(_),H=V("- "),i=V(P),c=g(),pe($.$$.fragment),this.h()},l(B){l=u(B,"DIV",{class:!0});var v=y(l);t=u(v,"LI",{class:!0});var L=y(t);p=u(L,"A",{href:!0});var N=y(p);m=O(N,_),N.forEach(r),H=O(L,"- "),i=O(L,P),L.forEach(r),c=d(v),fe($.$$.fragment,v),v.forEach(r),this.h()},h(){E(p,"href",T="/forbes-billionaires-list/"+s[29].rank),E(t,"class","svelte-1316pci"),E(l,"class","person-container svelte-1316pci")},m(B,v){f(B,l,v),o(l,t),o(t,p),o(p,m),o(t,H),o(t,i),o(l,c),ce($,l,null),k=!0},p(B,v){s=B,(!k||v[0]&1)&&_!==(_=s[29].name+"")&&tt(m,_),(!k||v[0]&1&&T!==(T="/forbes-billionaires-list/"+s[29].rank))&&E(p,"href",T),(!k||v[0]&1)&&P!==(P=s[29].net_worth+"")&&tt(i,P);const L={};v[1]&2&&(L.$$scope={dirty:v,ctx:s}),$.$set(L)},i(B){k||(Y($.$$.fragment,B),k=!0)},o(B){Z($.$$.fragment,B),k=!1},d(B){B&&r(l),he($)}}}function $t(s){let l;return{c(){l=V("Crear")},l(t){l=O(t,"Crear")},m(t,p){f(t,l,p)},d(t){t&&r(l)}}}function kt(s){let l;return{c(){l=V("Página anterior")},l(t){l=O(t,"Página anterior")},m(t,p){f(t,l,p)},d(t){t&&r(l)}}}function Bt(s){let l;return{c(){l=V("Página siguiente")},l(t){l=O(t,"Página siguiente")},m(t,p){f(t,l,p)},d(t){t&&r(l)}}}function It(s){let l;return{c(){l=V("Borrar todo")},l(t){l=O(t,"Borrar todo")},m(t,p){f(t,l,p)},d(t){t&&r(l)}}}function yt(s){let l,t="<h2>Buscar por campos</h2>",p,_,m,T,H,P,i,c,$,k,B,v,L,N,_e,S,me,z,ge,G,Ce="<h2>Crear un nuevo billonario</h2>",de,U,x,He="<tr><th>Puesto</th> <th>Nombre</th> <th>Patrimonio neto (billones)</th> <th>Edad</th></tr>",Pe,ae,A,ue,b,M,J,ee,Oe,$e,te,Re,ke,ne,Ye,Te,nt="<tr><th>País</th> <th>Empresa</th> <th>Industria</th></tr>",ze,F,Be,se,Ge,Ie,le,Je,ye,re,Ke,Me,K,Ae,R,Q,Qe,ve,We,Se,Xe,W,Fe,X,je,oe,De,Ze,st;S=new we({props:{color:"primary",$$slots:{default:[wt]},$$scope:{ctx:s}}}),S.$on("click",s[6]);let ie=ut(s[0]),w=[];for(let e=0;e<ie.length;e+=1)w[e]=pt(it(s,ie,e));const ft=e=>Z(w[e],1,1,()=>{w[e]=null});return K=new we({props:{color:"primary",$$slots:{default:[$t]},$$scope:{ctx:s}}}),K.$on("click",s[9]),Q=new we({props:{color:"primary",$$slots:{default:[kt]},$$scope:{ctx:s}}}),Q.$on("click",s[11]),W=new we({props:{color:"primary",$$slots:{default:[Bt]},$$scope:{ctx:s}}}),W.$on("click",s[10]),X=new we({props:{color:"danger",$$slots:{default:[It]},$$scope:{ctx:s}}}),X.$on("click",s[8]),oe=new Et({props:{Msg:s[2],errorMsg:s[1]}}),{c(){l=a("div"),l.innerHTML=t,p=g(),_=a("input"),m=g(),T=a("input"),H=g(),P=a("input"),i=g(),c=a("input"),$=g(),k=a("input"),B=g(),v=a("input"),L=g(),N=a("input"),_e=g(),pe(S.$$.fragment),me=g(),z=a("ul");for(let e=0;e<w.length;e+=1)w[e].c();ge=g(),G=a("div"),G.innerHTML=Ce,de=g(),U=a("table"),x=a("thead"),x.innerHTML=He,Pe=g(),ae=a("tbody"),A=a("tr"),ue=a("td"),b=a("input"),M=g(),J=a("td"),ee=a("input"),Oe=g(),$e=a("td"),te=a("input"),Re=g(),ke=a("td"),ne=a("input"),Ye=g(),Te=a("thead"),Te.innerHTML=nt,ze=g(),F=a("tbody"),Be=a("td"),se=a("input"),Ge=g(),Ie=a("td"),le=a("input"),Je=g(),ye=a("td"),re=a("input"),Ke=g(),Me=a("td"),pe(K.$$.fragment),Ae=g(),R=a("div"),pe(Q.$$.fragment),Qe=g(),ve=a("span"),We=V("Página actual: "),Se=V(s[3]),Xe=g(),pe(W.$$.fragment),Fe=g(),pe(X.$$.fragment),je=g(),pe(oe.$$.fragment),this.h()},l(e){l=u(e,"DIV",{"data-svelte-h":!0}),qe(l)!=="svelte-jxvrg6"&&(l.innerHTML=t),p=d(e),_=u(e,"INPUT",{placeholder:!0,class:!0}),m=d(e),T=u(e,"INPUT",{placeholder:!0,class:!0}),H=d(e),P=u(e,"INPUT",{placeholder:!0,class:!0}),i=d(e),c=u(e,"INPUT",{placeholder:!0,class:!0}),$=d(e),k=u(e,"INPUT",{placeholder:!0,class:!0}),B=d(e),v=u(e,"INPUT",{placeholder:!0,class:!0}),L=d(e),N=u(e,"INPUT",{placeholder:!0,class:!0}),_e=d(e),fe(S.$$.fragment,e),me=d(e),z=u(e,"UL",{});var n=y(z);for(let et=0;et<w.length;et+=1)w[et].l(n);n.forEach(r),ge=d(e),G=u(e,"DIV",{"data-svelte-h":!0}),qe(G)!=="svelte-ob8lhq"&&(G.innerHTML=Ce),de=d(e),U=u(e,"TABLE",{});var D=y(U);x=u(D,"THEAD",{"data-svelte-h":!0}),qe(x)!=="svelte-g90tak"&&(x.innerHTML=He),Pe=d(D),ae=u(D,"TBODY",{});var Ne=y(ae);A=u(Ne,"TR",{});var j=y(A);ue=u(j,"TD",{});var Le=y(ue);b=u(Le,"INPUT",{class:!0}),Le.forEach(r),M=d(j),J=u(j,"TD",{});var Ue=y(J);ee=u(Ue,"INPUT",{class:!0}),Ue.forEach(r),Oe=d(j),$e=u(j,"TD",{});var be=y($e);te=u(be,"INPUT",{class:!0}),be.forEach(r),Re=d(j),ke=u(j,"TD",{});var I=y(ke);ne=u(I,"INPUT",{class:!0}),I.forEach(r),j.forEach(r),Ne.forEach(r),Ye=d(D),Te=u(D,"THEAD",{"data-svelte-h":!0}),qe(Te)!=="svelte-1mw0dur"&&(Te.innerHTML=nt),ze=d(D),F=u(D,"TBODY",{});var q=y(F);Be=u(q,"TD",{});var lt=y(Be);se=u(lt,"INPUT",{class:!0}),lt.forEach(r),Ge=d(q),Ie=u(q,"TD",{});var rt=y(Ie);le=u(rt,"INPUT",{class:!0}),rt.forEach(r),Je=d(q),ye=u(q,"TD",{});var ot=y(ye);re=u(ot,"INPUT",{class:!0}),ot.forEach(r),Ke=d(q),Me=u(q,"TD",{});var at=y(Me);fe(K.$$.fragment,at),at.forEach(r),q.forEach(r),D.forEach(r),Ae=d(e),R=u(e,"DIV",{});var Ee=y(R);fe(Q.$$.fragment,Ee),Qe=d(Ee),ve=u(Ee,"SPAN",{});var xe=y(ve);We=O(xe,"Página actual: "),Se=O(xe,s[3]),xe.forEach(r),Xe=d(Ee),fe(W.$$.fragment,Ee),Ee.forEach(r),Fe=d(e),fe(X.$$.fragment,e),je=d(e),fe(oe.$$.fragment,e),this.h()},h(){E(_,"placeholder","Rank"),E(_,"class","svelte-1316pci"),E(T,"placeholder","Nombre"),E(T,"class","svelte-1316pci"),E(P,"placeholder","Patrimonio neto"),E(P,"class","svelte-1316pci"),E(c,"placeholder","Edad"),E(c,"class","svelte-1316pci"),E(k,"placeholder","País"),E(k,"class","svelte-1316pci"),E(v,"placeholder","Empresa"),E(v,"class","svelte-1316pci"),E(N,"placeholder","Industria"),E(N,"class","svelte-1316pci"),E(b,"class","svelte-1316pci"),E(ee,"class","svelte-1316pci"),E(te,"class","svelte-1316pci"),E(ne,"class","svelte-1316pci"),E(se,"class","svelte-1316pci"),E(le,"class","svelte-1316pci"),E(re,"class","svelte-1316pci")},m(e,n){f(e,l,n),f(e,p,n),f(e,_,n),h(_,s[5].rank),f(e,m,n),f(e,T,n),h(T,s[5].name),f(e,H,n),f(e,P,n),h(P,s[5].net_worth),f(e,i,n),f(e,c,n),h(c,s[5].age),f(e,$,n),f(e,k,n),h(k,s[5].country),f(e,B,n),f(e,v,n),h(v,s[5].source),f(e,L,n),f(e,N,n),h(N,s[5].industry),f(e,_e,n),ce(S,e,n),f(e,me,n),f(e,z,n);for(let D=0;D<w.length;D+=1)w[D]&&w[D].m(z,null);f(e,ge,n),f(e,G,n),f(e,de,n),f(e,U,n),o(U,x),o(U,Pe),o(U,ae),o(ae,A),o(A,ue),o(ue,b),h(b,s[4].rank),o(A,M),o(A,J),o(J,ee),h(ee,s[4].name),o(A,Oe),o(A,$e),o($e,te),h(te,s[4].net_worth),o(A,Re),o(A,ke),o(ke,ne),h(ne,s[4].age),o(U,Ye),o(U,Te),o(U,ze),o(U,F),o(F,Be),o(Be,se),h(se,s[4].country),o(F,Ge),o(F,Ie),o(Ie,le),h(le,s[4].source),o(F,Je),o(F,ye),o(ye,re),h(re,s[4].industry),o(F,Ke),o(F,Me),ce(K,Me,null),f(e,Ae,n),f(e,R,n),ce(Q,R,null),o(R,Qe),o(R,ve),o(ve,We),o(ve,Se),o(R,Xe),ce(W,R,null),f(e,Fe,n),ce(X,e,n),f(e,je,n),ce(oe,e,n),De=!0,Ze||(st=[C(_,"input",s[13]),C(T,"input",s[14]),C(P,"input",s[15]),C(c,"input",s[16]),C(k,"input",s[17]),C(v,"input",s[18]),C(N,"input",s[19]),C(b,"input",s[20]),C(ee,"input",s[21]),C(te,"input",s[22]),C(ne,"input",s[23]),C(se,"input",s[24]),C(le,"input",s[25]),C(re,"input",s[26])],Ze=!0)},p(e,n){n[0]&32&&_.value!==e[5].rank&&h(_,e[5].rank),n[0]&32&&T.value!==e[5].name&&h(T,e[5].name),n[0]&32&&P.value!==e[5].net_worth&&h(P,e[5].net_worth),n[0]&32&&c.value!==e[5].age&&h(c,e[5].age),n[0]&32&&k.value!==e[5].country&&h(k,e[5].country),n[0]&32&&v.value!==e[5].source&&h(v,e[5].source),n[0]&32&&N.value!==e[5].industry&&h(N,e[5].industry);const D={};if(n[1]&2&&(D.$$scope={dirty:n,ctx:e}),S.$set(D),n[0]&129){ie=ut(e[0]);let I;for(I=0;I<ie.length;I+=1){const q=it(e,ie,I);w[I]?(w[I].p(q,n),Y(w[I],1)):(w[I]=pt(q),w[I].c(),Y(w[I],1),w[I].m(z,null))}for(bt(),I=ie.length;I<w.length;I+=1)ft(I);Tt()}n[0]&16&&b.value!==e[4].rank&&h(b,e[4].rank),n[0]&16&&ee.value!==e[4].name&&h(ee,e[4].name),n[0]&16&&te.value!==e[4].net_worth&&h(te,e[4].net_worth),n[0]&16&&ne.value!==e[4].age&&h(ne,e[4].age),n[0]&16&&se.value!==e[4].country&&h(se,e[4].country),n[0]&16&&le.value!==e[4].source&&h(le,e[4].source),n[0]&16&&re.value!==e[4].industry&&h(re,e[4].industry);const Ne={};n[1]&2&&(Ne.$$scope={dirty:n,ctx:e}),K.$set(Ne);const j={};n[1]&2&&(j.$$scope={dirty:n,ctx:e}),Q.$set(j),(!De||n[0]&8)&&tt(Se,e[3]);const Le={};n[1]&2&&(Le.$$scope={dirty:n,ctx:e}),W.$set(Le);const Ue={};n[1]&2&&(Ue.$$scope={dirty:n,ctx:e}),X.$set(Ue);const be={};n[0]&4&&(be.Msg=e[2]),n[0]&2&&(be.errorMsg=e[1]),oe.$set(be)},i(e){if(!De){Y(S.$$.fragment,e);for(let n=0;n<ie.length;n+=1)Y(w[n]);Y(K.$$.fragment,e),Y(Q.$$.fragment,e),Y(W.$$.fragment,e),Y(X.$$.fragment,e),Y(oe.$$.fragment,e),De=!0}},o(e){Z(S.$$.fragment,e),w=w.filter(Boolean);for(let n=0;n<w.length;n+=1)Z(w[n]);Z(K.$$.fragment,e),Z(Q.$$.fragment,e),Z(W.$$.fragment,e),Z(X.$$.fragment,e),Z(oe.$$.fragment,e),De=!1},d(e){e&&(r(l),r(p),r(_),r(m),r(T),r(H),r(P),r(i),r(c),r($),r(k),r(B),r(v),r(L),r(N),r(_e),r(me),r(z),r(ge),r(G),r(de),r(U),r(Ae),r(R),r(Fe),r(je)),he(S,e),vt(w,e),he(K),he(Q),he(W),he(X,e),he(oe,e),Ze=!1,ht(st)}}}const Mt="http://localhost:10000",Ve=10;function Dt(s,l,t){const p=`${Mt}/api/v2/forbes-billionaires-list`;let _=[],m="",T="",H=1,P=0;const i={rank:11,name:"Bernardose Arnault family",net_worth:211,age:74,country:"France",source:"LVMH",industry:"Fashion"};let c={rank:"",name:"",net_worth:"",age:"",country:"",source:"",industry:""};_t(()=>{$()});async function $(){try{let b=await fetch(`${p}/?offset=${P}&limit=${Ve}`,{method:"GET"}),M=await b.json();t(0,_=M),b.status===200||(_.length===0?(t(2,T="La lista esta vacía"),setTimeout(()=>{t(2,T="")},3e3)):(t(1,m="Error cargando personas"),setTimeout(()=>{t(1,m="")},3e3)))}catch(b){t(1,m=b)}}async function k(){const b=new URLSearchParams(c);try{const M=await fetch(`${p}/?${b}`,{methos:"GET"}),J=await M.json();M.status===200?(t(0,_=J),t(1,m="")):t(1,m="Error al realizar la búsqueda")}catch{t(1,m="Error del servidor al realizar la búsqueda")}}async function B(b){try{let M=await fetch(`${p}/${b}`,{method:"DELETE"});console.log(`Borrando billonario ${b}`),M.status===200?(t(2,T="Billonario borrado con éxito"),t(0,_=_.filter(J=>J.rank!==b)),setTimeout(()=>{t(2,T="")},3e3)):(t(1,m="Ese billonario no existe"),setTimeout(()=>{t(1,m="")},3e3))}catch(M){t(1,m=M)}}async function v(){try{(await fetch(p,{method:"DELETE"})).status==200?(t(2,T="Millonarios borrados con éxito"),t(0,_=[]),setTimeout(()=>{t(2,T="")},3e3)):(t(1,m="Ya están todas los millonarios borrados"),setTimeout(()=>{t(1,m="")},3e3))}catch(b){t(1,m=b)}}async function L(){try{t(4,i.rank=parseInt(i.rank),i),t(4,i.net_worth=parseFloat(i.net_worth),i),t(4,i.age=parseInt(i.age),i);let M=await(await fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).status;console.log(`Creation response status ${M}`),M===201?($(),t(2,T="Billonario creada con éxito"),setTimeout(()=>{t(2,T="")},3e3)):(t(1,m="El billonario ya existe"),setTimeout(()=>{t(1,m="")},3e3))}catch(b){t(1,m=b)}}async function N(){t(0,_.length=Ve,_)&&(P+=Ve,t(3,H+=1),await $())}async function _e(){P=Math.max(0,P-Ve),t(3,H=Math.max(1,H-1)),await $()}function S(){c.rank=this.value,t(5,c)}function me(){c.name=this.value,t(5,c)}function z(){c.net_worth=this.value,t(5,c)}function ge(){c.age=this.value,t(5,c)}function G(){c.country=this.value,t(5,c)}function Ce(){c.source=this.value,t(5,c)}function de(){c.industry=this.value,t(5,c)}function U(){i.rank=this.value,t(4,i)}function x(){i.name=this.value,t(4,i)}function He(){i.net_worth=this.value,t(4,i)}function Pe(){i.age=this.value,t(4,i)}function ae(){i.country=this.value,t(4,i)}function A(){i.source=this.value,t(4,i)}function ue(){i.industry=this.value,t(4,i)}return[_,m,T,H,i,c,k,B,v,L,N,_e,$,S,me,z,ge,G,Ce,de,U,x,He,Pe,ae,A,ue]}class St extends gt{constructor(l){super(),dt(this,l,Dt,yt,ct,{getForBillionaires:12},null,[-1,-1])}get getForBillionaires(){return this.$$.ctx[12]}}export{St as component};
