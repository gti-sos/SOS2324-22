import{s as Ae,r as Oe,o as Se,i as je}from"../chunks/scheduler.TjET1Dad.js";import{S as Fe,i as Ye,e as p,s as P,k as ce,l as Ie,c as _,a as I,m as qe,f as R,d as u,n as de,g as T,h as r,o as w,p as be,q as S,r as Q,u as Je,v as ne,w as Te,x as ze,t as A,b as O,y as Re,j as ue,z as Ge}from"../chunks/index.CogmN7-S.js";import{e as Be}from"../chunks/each.D6YF6ztN.js";import{B as Ee}from"../chunks/Button.BYWkm6PB.js";import"../chunks/Theme.svelte_svelte_type_style_lang.BfHm16wz.js";function Ue(n,o,t){const i=n.slice();return i[16]=o[t],i}function Ke(n){let o;return{c(){o=A("Crear")},l(t){o=O(t,"Crear")},m(t,i){T(t,o,i)},d(t){t&&u(o)}}}function Qe(n){let o;return{c(){o=A("Borrar")},l(t){o=O(t,"Borrar")},m(t,i){T(t,o,i)},d(t){t&&u(o)}}}function Le(n){let o,t,i=n[16].name+"",l,f,a,E=n[16].profit+"",B,U,k,v;return k=new Ee({props:{color:"primary",$$slots:{default:[Qe]},$$scope:{ctx:n}}}),k.$on("click",function(){je(n[4](n[16].name))&&n[4](n[16].name).apply(this,arguments)}),{c(){o=p("li"),t=p("a"),l=A(i),a=A("- "),B=A(E),U=P(),ce(k.$$.fragment),this.h()},l(h){o=_(h,"LI",{});var c=I(o);t=_(c,"A",{href:!0});var N=I(t);l=O(N,i),N.forEach(u),a=O(c,"- "),B=O(c,E),c.forEach(u),U=R(h),de(k.$$.fragment,h),this.h()},h(){Re(t,"href",f="/forbes-billonaires/"+n[16].name+"/"+n[16].country)},m(h,c){T(h,o,c),r(o,t),r(t,l),r(o,a),r(o,B),T(h,U,c),be(k,h,c),v=!0},p(h,c){n=h,(!v||c&1)&&i!==(i=n[16].name+"")&&ue(l,i),(!v||c&1&&f!==(f="/forbes-billonaires/"+n[16].name+"/"+n[16].country))&&Re(t,"href",f),(!v||c&1)&&E!==(E=n[16].profit+"")&&ue(B,E);const N={};c&524288&&(N.$$scope={dirty:c,ctx:n}),k.$set(N)},i(h){v||(Q(k.$$.fragment,h),v=!0)},o(h){ne(k.$$.fragment,h),v=!1},d(h){h&&(u(o),u(U)),Te(k,h)}}}function Ve(n){let o;return{c(){o=A("Borrar todo")},l(t){o=O(t,"Borrar todo")},m(t,i){T(t,o,i)},d(t){t&&u(o)}}}function $e(n){let o,t,i;return{c(){o=p("hr"),t=P(),i=A(n[2])},l(l){o=_(l,"HR",{}),t=R(l),i=O(l,n[2])},m(l,f){T(l,o,f),T(l,t,f),T(l,i,f)},p(l,f){f&4&&ue(i,l[2])},d(l){l&&(u(o),u(t),u(i))}}}function He(n){let o,t,i;return{c(){o=p("hr"),t=A(`
    ERROR: `),i=A(n[1])},l(l){o=_(l,"HR",{}),t=O(l,`
    ERROR: `),i=O(l,n[1])},m(l,f){T(l,o,f),T(l,t,f),T(l,i,f)},p(l,f){f&2&&ue(i,l[1])},d(l){l&&(u(o),u(t),u(i))}}}function We(n){let o,t,i="<tr><th>Rank</th> <th>Name</th> <th>Country</th> <th>Sale</th> <th>Profit</th> <th>Asset</th> <th>Market value</th> <th>Year</th></tr>",l,f,a,E,B,U,k,v,h,c,N,V,j,$,W,y,g,ie,X,F,fe,Z,Y,pe,x,q,_e,ee,H,oe,J,le,M,ae,G,K,se,me,ke;H=new Ee({props:{color:"primary",$$slots:{default:[Ke]},$$scope:{ctx:n}}}),H.$on("click",n[6]);let z=Be(n[0]),m=[];for(let e=0;e<z.length;e+=1)m[e]=Le(Ue(n,z,e));const Me=e=>ne(m[e],1,1,()=>{m[e]=null});M=new Ee({props:{color:"danger",$$slots:{default:[Ve]},$$scope:{ctx:n}}}),M.$on("click",n[5]);let C=n[2]!=""&&$e(n),D=n[1]!=""&&He(n);return{c(){o=p("table"),t=p("thead"),t.innerHTML=i,l=P(),f=p("tbody"),a=p("tr"),E=p("td"),B=p("input"),U=P(),k=p("td"),v=p("input"),h=P(),c=p("td"),N=p("input"),V=P(),j=p("td"),$=p("input"),W=P(),y=p("td"),g=p("input"),ie=P(),X=p("td"),F=p("input"),fe=P(),Z=p("td"),Y=p("input"),pe=P(),x=p("td"),q=p("input"),_e=P(),ee=p("td"),ce(H.$$.fragment),oe=P(),J=p("ul");for(let e=0;e<m.length;e+=1)m[e].c();le=P(),ce(M.$$.fragment),ae=P(),C&&C.c(),G=P(),D&&D.c(),K=Ie()},l(e){o=_(e,"TABLE",{});var s=I(o);t=_(s,"THEAD",{"data-svelte-h":!0}),qe(t)!=="svelte-mb1v5r"&&(t.innerHTML=i),l=R(s),f=_(s,"TBODY",{});var L=I(f);a=_(L,"TR",{});var d=I(a);E=_(d,"TD",{});var b=I(E);B=_(b,"INPUT",{}),b.forEach(u),U=R(d),k=_(d,"TD",{});var te=I(k);v=_(te,"INPUT",{}),te.forEach(u),h=R(d),c=_(d,"TD",{});var ve=I(c);N=_(ve,"INPUT",{}),ve.forEach(u),V=R(d),j=_(d,"TD",{});var ye=I(j);$=_(ye,"INPUT",{}),ye.forEach(u),W=R(d),y=_(d,"TD",{});var ge=I(y);g=_(ge,"INPUT",{}),ge.forEach(u),ie=R(d),X=_(d,"TD",{});var Ce=I(X);F=_(Ce,"INPUT",{}),Ce.forEach(u),fe=R(d),Z=_(d,"TD",{});var De=I(Z);Y=_(De,"INPUT",{}),De.forEach(u),pe=R(d),x=_(d,"TD",{});var we=I(x);q=_(we,"INPUT",{}),we.forEach(u),_e=R(d),ee=_(d,"TD",{});var Ne=I(ee);de(H.$$.fragment,Ne),Ne.forEach(u),d.forEach(u),L.forEach(u),s.forEach(u),oe=R(e),J=_(e,"UL",{});var Pe=I(J);for(let he=0;he<m.length;he+=1)m[he].l(Pe);Pe.forEach(u),le=R(e),de(M.$$.fragment,e),ae=R(e),C&&C.l(e),G=R(e),D&&D.l(e),K=Ie()},m(e,s){T(e,o,s),r(o,t),r(o,l),r(o,f),r(f,a),r(a,E),r(E,B),w(B,n[3].rank),r(a,U),r(a,k),r(k,v),w(v,n[3].name),r(a,h),r(a,c),r(c,N),w(N,n[3].country),r(a,V),r(a,j),r(j,$),w($,n[3].sale),r(a,W),r(a,y),r(y,g),w(g,n[3].profit),r(a,ie),r(a,X),r(X,F),w(F,n[3].asset),r(a,fe),r(a,Z),r(Z,Y),w(Y,n[3].market_value),r(a,pe),r(a,x),r(x,q),w(q,n[3].year),r(a,_e),r(a,ee),be(H,ee,null),T(e,oe,s),T(e,J,s);for(let L=0;L<m.length;L+=1)m[L]&&m[L].m(J,null);T(e,le,s),be(M,e,s),T(e,ae,s),C&&C.m(e,s),T(e,G,s),D&&D.m(e,s),T(e,K,s),se=!0,me||(ke=[S(B,"input",n[8]),S(v,"input",n[9]),S(N,"input",n[10]),S($,"input",n[11]),S(g,"input",n[12]),S(F,"input",n[13]),S(Y,"input",n[14]),S(q,"input",n[15])],me=!0)},p(e,[s]){s&8&&B.value!==e[3].rank&&w(B,e[3].rank),s&8&&v.value!==e[3].name&&w(v,e[3].name),s&8&&N.value!==e[3].country&&w(N,e[3].country),s&8&&$.value!==e[3].sale&&w($,e[3].sale),s&8&&g.value!==e[3].profit&&w(g,e[3].profit),s&8&&F.value!==e[3].asset&&w(F,e[3].asset),s&8&&Y.value!==e[3].market_value&&w(Y,e[3].market_value),s&8&&q.value!==e[3].year&&w(q,e[3].year);const L={};if(s&524288&&(L.$$scope={dirty:s,ctx:e}),H.$set(L),s&17){z=Be(e[0]);let b;for(b=0;b<z.length;b+=1){const te=Ue(e,z,b);m[b]?(m[b].p(te,s),Q(m[b],1)):(m[b]=Le(te),m[b].c(),Q(m[b],1),m[b].m(J,null))}for(Ge(),b=z.length;b<m.length;b+=1)Me(b);Je()}const d={};s&524288&&(d.$$scope={dirty:s,ctx:e}),M.$set(d),e[2]!=""?C?C.p(e,s):(C=$e(e),C.c(),C.m(G.parentNode,G)):C&&(C.d(1),C=null),e[1]!=""?D?D.p(e,s):(D=He(e),D.c(),D.m(K.parentNode,K)):D&&(D.d(1),D=null)},i(e){if(!se){Q(H.$$.fragment,e);for(let s=0;s<z.length;s+=1)Q(m[s]);Q(M.$$.fragment,e),se=!0}},o(e){ne(H.$$.fragment,e),m=m.filter(Boolean);for(let s=0;s<m.length;s+=1)ne(m[s]);ne(M.$$.fragment,e),se=!1},d(e){e&&(u(o),u(oe),u(J),u(le),u(ae),u(G),u(K)),Te(H),ze(m,e),Te(M,e),C&&C.d(e),D&&D.d(e),me=!1,Oe(ke)}}}let re="http://localhost:10000/api/v1/forbes-billonaires";function Xe(n,o,t){let i=[],l="",f="";const a={rank:20,name:"Honda",country:"Japon",sale:15.381,profit:41.9837,asset:347.238,market_value:229.805,year:2018};Se(()=>{E()});async function E(){try{let g=await(await fetch(re,{method:"GET"})).json();t(0,i=g),console.log(g)}catch(y){t(1,l=y)}}async function B(y){try{let g=await fetch(re+"/"+y,{method:"DELETE"});console.log(`Deleting company with name ${y}`),g.status==200?(t(2,f="Compañia borrada con éxito"),E(),setTimeout(()=>{t(2,f="")},3e3)):(t(1,l="Esa Compañia no existe"),setTimeout(()=>{t(1,l="")},3e3))}catch(g){t(1,l=g)}}async function U(){try{(await fetch(re,{method:"DELETE"})).status==200?(t(2,f="Compañias borrada con éxito"),E(),setTimeout(()=>{t(2,f="")},3e3)):(t(1,l="Ya están todas las Compañias borradas"),setTimeout(()=>{t(1,l="")},3e3))}catch(y){t(1,l=y)}}async function k(){try{let g=await(await fetch(re,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).status;console.log(`Creation response status ${g}`),g==201?(t(2,f="Company creada con éxito"),E(),setTimeout(()=>{t(2,f="")},3e3)):(t(1,l="La Company ya existe"),setTimeout(()=>{t(1,l="")},3e3))}catch(y){t(1,l=y)}}function v(){a.rank=this.value,t(3,a)}function h(){a.name=this.value,t(3,a)}function c(){a.country=this.value,t(3,a)}function N(){a.sale=this.value,t(3,a)}function V(){a.profit=this.value,t(3,a)}function j(){a.asset=this.value,t(3,a)}function $(){a.market_value=this.value,t(3,a)}function W(){a.year=this.value,t(3,a)}return[i,l,f,a,B,U,k,E,v,h,c,N,V,j,$,W]}class ot extends Fe{constructor(o){super(),Ye(this,o,Xe,We,Ae,{getForbes_billonaires:7})}get getForbes_billonaires(){return this.$$.ctx[7]}}export{ot as component};
