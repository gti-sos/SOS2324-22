import{s as ve,r as De,o as Be,i as Le}from"../chunks/scheduler.Dc1jLLu_.js";import{S as Pe,i as ke,e as p,h as P,j as ne,b as _,f as y,k as Te,l as k,d as c,m as ae,x as U,a as S,g as a,n as I,o as re,p as x,q as J,r as Ae,u as z,v as le,w as Ce,t as F,c as K,s as be,y as Ie}from"../chunks/index.USbQfvAI.js";import{e as Ee}from"../chunks/each.D6YF6ztN.js";import{B as he,M as Ne}from"../chunks/MessageContainer.zl6tcV2J.js";import"../chunks/Theme.svelte_svelte_type_style_lang.NJlEhCd8.js";function ye(s,o,e){const l=s.slice();return l[14]=o[e],l}function $e(s){let o;return{c(){o=F("Crear")},l(e){o=K(e,"Crear")},m(e,l){S(e,o,l)},d(e){e&&c(o)}}}function He(s){let o;return{c(){o=F("Borrar")},l(e){o=K(e,"Borrar")},m(e,l){S(e,o,l)},d(e){e&&c(o)}}}function Me(s){let o,e,l,E=s[14].name+"",i,r,h,g=s[14].net_worth+"",A,D,m,M;return m=new he({props:{class:"delete-button",color:"danger",$$slots:{default:[He]},$$scope:{ctx:s}}}),m.$on("click",function(){Le(s[4](s[14].name))&&s[4](s[14].name).apply(this,arguments)}),{c(){o=p("div"),e=p("li"),l=p("a"),i=F(E),h=F("- "),A=F(g),D=P(),ne(m.$$.fragment),this.h()},l(d){o=_(d,"DIV",{class:!0});var f=y(o);e=_(f,"LI",{class:!0});var w=y(e);l=_(w,"A",{href:!0});var B=y(l);i=K(B,E),B.forEach(c),h=K(w,"- "),A=K(w,g),w.forEach(c),D=k(f),ae(m.$$.fragment,f),f.forEach(c),this.h()},h(){U(l,"href",r="/top-richest/"+s[14].name+"/"+s[14].nationality),U(e,"class","svelte-1316pci"),U(o,"class","person-container svelte-1316pci")},m(d,f){S(d,o,f),a(o,e),a(e,l),a(l,i),a(e,h),a(e,A),a(o,D),re(m,o,null),M=!0},p(d,f){s=d,(!M||f&1)&&E!==(E=s[14].name+"")&&be(i,E),(!M||f&1&&r!==(r="/top-richest/"+s[14].name+"/"+s[14].nationality))&&U(l,"href",r),(!M||f&1)&&g!==(g=s[14].net_worth+"")&&be(A,g);const w={};f&131072&&(w.$$scope={dirty:f,ctx:s}),m.$set(w)},i(d){M||(J(m.$$.fragment,d),M=!0)},o(d){z(m.$$.fragment,d),M=!1},d(d){d&&c(o),le(m)}}}function Ue(s){let o;return{c(){o=F("Borrar todo")},l(e){o=K(e,"Borrar todo")},m(e,l){S(e,o,l)},d(e){e&&c(o)}}}function Se(s){let o,e,l="<tr><th>Nombre</th> <th>Patrimonio neto</th> <th>Año de nacimiento</th></tr>",E,i,r,h,g,A,D,m,M,d,f,w,B,b="<tr><th>Edad</th> <th>Nacionalidad</th></tr>",v,L,Q,O,ie,W,j,ue,X,N,ee,q,te,$,oe,Y,se,fe,pe;N=new he({props:{color:"primary",$$slots:{default:[$e]},$$scope:{ctx:s}}}),N.$on("click",s[6]);let G=Ee(s[0]),u=[];for(let t=0;t<G.length;t+=1)u[t]=Me(ye(s,G,t));const we=t=>z(u[t],1,1,()=>{u[t]=null});return $=new he({props:{color:"danger",$$slots:{default:[Ue]},$$scope:{ctx:s}}}),$.$on("click",s[5]),Y=new Ne({props:{Msg:s[2],errorMsg:s[1]}}),{c(){o=p("table"),e=p("thead"),e.innerHTML=l,E=P(),i=p("tbody"),r=p("tr"),h=p("td"),g=p("input"),A=P(),D=p("td"),m=p("input"),M=P(),d=p("td"),f=p("input"),w=P(),B=p("thead"),B.innerHTML=b,v=P(),L=p("tbody"),Q=p("td"),O=p("input"),ie=P(),W=p("td"),j=p("input"),ue=P(),X=p("td"),ne(N.$$.fragment),ee=P(),q=p("ul");for(let t=0;t<u.length;t+=1)u[t].c();te=P(),ne($.$$.fragment),oe=P(),ne(Y.$$.fragment),this.h()},l(t){o=_(t,"TABLE",{});var n=y(o);e=_(n,"THEAD",{"data-svelte-h":!0}),Te(e)!=="svelte-ue9brp"&&(e.innerHTML=l),E=k(n),i=_(n,"TBODY",{});var C=y(i);r=_(C,"TR",{});var H=y(r);h=_(H,"TD",{});var R=y(h);g=_(R,"INPUT",{class:!0}),R.forEach(c),A=k(H),D=_(H,"TD",{});var T=y(D);m=_(T,"INPUT",{class:!0}),T.forEach(c),M=k(H),d=_(H,"TD",{});var Z=y(d);f=_(Z,"INPUT",{class:!0}),Z.forEach(c),H.forEach(c),C.forEach(c),w=k(n),B=_(n,"THEAD",{"data-svelte-h":!0}),Te(B)!=="svelte-bia0wa"&&(B.innerHTML=b),v=k(n),L=_(n,"TBODY",{});var V=y(L);Q=_(V,"TD",{});var _e=y(Q);O=_(_e,"INPUT",{class:!0}),_e.forEach(c),ie=k(V),W=_(V,"TD",{});var me=y(W);j=_(me,"INPUT",{class:!0}),me.forEach(c),ue=k(V),X=_(V,"TD",{});var de=y(X);ae(N.$$.fragment,de),de.forEach(c),V.forEach(c),n.forEach(c),ee=k(t),q=_(t,"UL",{});var ge=y(q);for(let ce=0;ce<u.length;ce+=1)u[ce].l(ge);ge.forEach(c),te=k(t),ae($.$$.fragment,t),oe=k(t),ae(Y.$$.fragment,t),this.h()},h(){U(g,"class","svelte-1316pci"),U(m,"class","svelte-1316pci"),U(f,"class","svelte-1316pci"),U(O,"class","svelte-1316pci"),U(j,"class","svelte-1316pci")},m(t,n){S(t,o,n),a(o,e),a(o,E),a(o,i),a(i,r),a(r,h),a(h,g),I(g,s[3].name),a(r,A),a(r,D),a(D,m),I(m,s[3].net_worth),a(r,M),a(r,d),a(d,f),I(f,s[3].bday_year),a(o,w),a(o,B),a(o,v),a(o,L),a(L,Q),a(Q,O),I(O,s[3].age),a(L,ie),a(L,W),a(W,j),I(j,s[3].nationality),a(L,ue),a(L,X),re(N,X,null),S(t,ee,n),S(t,q,n);for(let C=0;C<u.length;C+=1)u[C]&&u[C].m(q,null);S(t,te,n),re($,t,n),S(t,oe,n),re(Y,t,n),se=!0,fe||(pe=[x(g,"input",s[8]),x(m,"input",s[9]),x(f,"input",s[10]),x(O,"input",s[11]),x(j,"input",s[12])],fe=!0)},p(t,[n]){n&8&&g.value!==t[3].name&&I(g,t[3].name),n&8&&m.value!==t[3].net_worth&&I(m,t[3].net_worth),n&8&&f.value!==t[3].bday_year&&I(f,t[3].bday_year),n&8&&O.value!==t[3].age&&I(O,t[3].age),n&8&&j.value!==t[3].nationality&&I(j,t[3].nationality);const C={};if(n&131072&&(C.$$scope={dirty:n,ctx:t}),N.$set(C),n&17){G=Ee(t[0]);let T;for(T=0;T<G.length;T+=1){const Z=ye(t,G,T);u[T]?(u[T].p(Z,n),J(u[T],1)):(u[T]=Me(Z),u[T].c(),J(u[T],1),u[T].m(q,null))}for(Ie(),T=G.length;T<u.length;T+=1)we(T);Ae()}const H={};n&131072&&(H.$$scope={dirty:n,ctx:t}),$.$set(H);const R={};n&4&&(R.Msg=t[2]),n&2&&(R.errorMsg=t[1]),Y.$set(R)},i(t){if(!se){J(N.$$.fragment,t);for(let n=0;n<G.length;n+=1)J(u[n]);J($.$$.fragment,t),J(Y.$$.fragment,t),se=!0}},o(t){z(N.$$.fragment,t),u=u.filter(Boolean);for(let n=0;n<u.length;n+=1)z(u[n]);z($.$$.fragment,t),z(Y.$$.fragment,t),se=!1},d(t){t&&(c(o),c(ee),c(q),c(te),c(oe)),le(N),Ce(u,t),le($,t),le(Y,t),fe=!1,De(pe)}}}function Oe(s,o,e){let l="/api/v2/top-richest",E=[],i="",r="";const h={name:"Elon Musk",net_worth:240,bday_year:1971,age:51,nationality:"South Africa"};Be(()=>{g()});async function g(){try{let b=await fetch(l,{method:"GET"}),v=await b.json();e(0,E=v),b.status===200?(e(2,r="Millonarios creados con éxito"),setTimeout(()=>{e(2,r="")},3e3)):E.length===0?(e(2,r="La lista esta vacía"),setTimeout(()=>{e(2,r="")},3e3)):(e(1,i="Error cargando millonarios"),setTimeout(()=>{e(1,i="")},3e3))}catch(b){e(1,i=b)}}async function A(b){try{let v=await fetch(l+"/"+b,{method:"DELETE"});console.log(`Borrando millonario ${b}`),v.status===200?(e(2,r="Millonario borrado con éxito"),e(0,E=E.filter(L=>L.name!==b)),setTimeout(()=>{e(2,r="")},3e3)):(e(1,i="Ese millonario no existe"),setTimeout(()=>{e(1,i="")},3e3))}catch(v){e(1,i=v)}}async function D(){try{(await fetch(l,{method:"DELETE"})).status==200?(e(2,r="Millonarios borrados con éxito"),e(0,E=[]),setTimeout(()=>{e(2,r="")},3e3)):(e(1,i="Ya están todas los millonarios borrados"),setTimeout(()=>{e(1,i="")},3e3))}catch(b){e(1,i=b)}}async function m(){try{let v=await(await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).status;console.log(`Creation response status ${v}`),v===201?(g(),e(2,r="Millonario creado con éxito"),setTimeout(()=>{e(2,r="")},3e3)):(e(1,i="El millonario ya existe"),setTimeout(()=>{e(1,i="")},3e3))}catch(b){e(1,i=b)}}function M(){h.name=this.value,e(3,h)}function d(){h.net_worth=this.value,e(3,h)}function f(){h.bday_year=this.value,e(3,h)}function w(){h.age=this.value,e(3,h)}function B(){h.nationality=this.value,e(3,h)}return[E,i,r,h,A,D,m,g,M,d,f,w,B]}class Re extends Pe{constructor(o){super(),ke(this,o,Oe,Se,ve,{getMillonarios:7})}get getMillonarios(){return this.$$.ctx[7]}}export{Re as component};
