import{s as vt,c as Tt,o as gt,r as Et,n as bt}from"../chunks/scheduler.wWR6jiGY.js";import{S as yt,i as kt,h as b,j as dt,l as y,m as _t,a as C,p as ht,u as K,w as V,v as Pt,d,x as mt,e as p,b as f,f as E,k as tt,n as S,g as o,o as T,q as j,t as et,c as nt,z as wt,s as It}from"../chunks/index.j2r2S6jy.js";import{p as Mt}from"../chunks/stores.EywBeHnw.js";import{B as Bt}from"../chunks/MessageContainer.svelte_svelte_type_style_lang.eMTc9cxz.js";import"../chunks/Theme.svelte_svelte_type_style_lang.C8eeSRjy.js";import{M as Nt}from"../chunks/MessageContainer.CMkKOei7.js";function At(a){let s,e="Esta persona no existe.";return{c(){s=p("p"),s.textContent=e},l(l){s=f(l,"P",{"data-svelte-h":!0}),tt(s)!=="svelte-1m4dz9i"&&(s.textContent=e)},m(l,h){C(l,s,h)},p:bt,d(l){l&&d(s)}}}function zt(a){let s,e,l=a[2].name+"",h,m,i;return{c(){s=p("h2"),e=et("Detalles de "),h=et(l),m=b(),i=p("hr")},l(r){s=f(r,"H2",{});var n=E(s);e=nt(n,"Detalles de "),h=nt(n,l),n.forEach(d),m=y(r),i=f(r,"HR",{})},m(r,n){C(r,s,n),o(s,e),o(s,h),C(r,m,n),C(r,i,n)},p(r,n){n&4&&l!==(l=r[2].name+"")&&It(h,l)},d(r){r&&(d(s),d(m),d(i))}}}function ct(a){let s,e,l="<tr><th>Puesto</th> <th>Nombre</th> <th>Patrimonio neto (billones)</th> <th>Edad</th></tr>",h,m,i,r,n,t,c,v,O,H,P,q,U,w,R,g,L="<tr><th>País</th> <th>Empresa</th> <th>Industria</th></tr>",W,k,Y,M,X,D,B,Z,F,N,$,G,I,Q,x,st;return I=new Bt({props:{color:"primary",$$slots:{default:[Ct]},$$scope:{ctx:a}}}),I.$on("click",a[3]),{c(){s=p("table"),e=p("thead"),e.innerHTML=l,h=b(),m=p("tbody"),i=p("tr"),r=p("td"),n=p("input"),t=b(),c=p("td"),v=p("input"),O=b(),H=p("td"),P=p("input"),q=b(),U=p("td"),w=p("input"),R=b(),g=p("thead"),g.innerHTML=L,W=b(),k=p("tbody"),Y=p("td"),M=p("input"),X=b(),D=p("td"),B=p("input"),Z=b(),F=p("td"),N=p("input"),$=b(),G=p("td"),dt(I.$$.fragment),this.h()},l(u){s=f(u,"TABLE",{});var _=E(s);e=f(_,"THEAD",{"data-svelte-h":!0}),tt(e)!=="svelte-1vz6oz4"&&(e.innerHTML=l),h=y(_),m=f(_,"TBODY",{});var J=E(m);i=f(J,"TR",{});var A=E(i);r=f(A,"TD",{});var rt=E(r);n=f(rt,"INPUT",{class:!0}),rt.forEach(d),t=y(A),c=f(A,"TD",{});var ot=E(c);v=f(ot,"INPUT",{class:!0}),ot.forEach(d),O=y(A),H=f(A,"TD",{});var at=E(H);P=f(at,"INPUT",{class:!0}),at.forEach(d),q=y(A),U=f(A,"TD",{});var lt=E(U);w=f(lt,"INPUT",{class:!0}),lt.forEach(d),A.forEach(d),J.forEach(d),R=y(_),g=f(_,"THEAD",{"data-svelte-h":!0}),tt(g)!=="svelte-iryo44"&&(g.innerHTML=L),W=y(_),k=f(_,"TBODY",{});var z=E(k);Y=f(z,"TD",{});var ut=E(Y);M=f(ut,"INPUT",{class:!0}),ut.forEach(d),X=y(z),D=f(z,"TD",{});var it=E(D);B=f(it,"INPUT",{class:!0}),it.forEach(d),Z=y(z),F=f(z,"TD",{});var pt=E(F);N=f(pt,"INPUT",{class:!0}),pt.forEach(d),$=y(z),G=f(z,"TD",{});var ft=E(G);_t(I.$$.fragment,ft),ft.forEach(d),z.forEach(d),_.forEach(d),this.h()},h(){n.disabled=!0,S(n,"class","svelte-1b14d9v"),S(v,"class","svelte-1b14d9v"),S(P,"class","svelte-1b14d9v"),S(w,"class","svelte-1b14d9v"),S(M,"class","svelte-1b14d9v"),S(B,"class","svelte-1b14d9v"),S(N,"class","svelte-1b14d9v")},m(u,_){C(u,s,_),o(s,e),o(s,h),o(s,m),o(m,i),o(i,r),o(r,n),T(n,a[2].rank),o(i,t),o(i,c),o(c,v),T(v,a[2].name),o(i,O),o(i,H),o(H,P),T(P,a[2].net_worth),o(i,q),o(i,U),o(U,w),T(w,a[2].age),o(s,R),o(s,g),o(s,W),o(s,k),o(k,Y),o(Y,M),T(M,a[2].country),o(k,X),o(k,D),o(D,B),T(B,a[2].source),o(k,Z),o(k,F),o(F,N),T(N,a[2].industry),o(k,$),o(k,G),ht(I,G,null),Q=!0,x||(st=[j(n,"input",a[4]),j(v,"input",a[5]),j(P,"input",a[6]),j(w,"input",a[7]),j(M,"input",a[8]),j(B,"input",a[9]),j(N,"input",a[10])],x=!0)},p(u,_){_&4&&n.value!==u[2].rank&&T(n,u[2].rank),_&4&&v.value!==u[2].name&&T(v,u[2].name),_&4&&P.value!==u[2].net_worth&&T(P,u[2].net_worth),_&4&&w.value!==u[2].age&&T(w,u[2].age),_&4&&M.value!==u[2].country&&T(M,u[2].country),_&4&&B.value!==u[2].source&&T(B,u[2].source),_&4&&N.value!==u[2].industry&&T(N,u[2].industry);const J={};_&65536&&(J.$$scope={dirty:_,ctx:u}),I.$set(J)},i(u){Q||(K(I.$$.fragment,u),Q=!0)},o(u){V(I.$$.fragment,u),Q=!1},d(u){u&&d(s),mt(I),x=!1,Et(st)}}}function Ct(a){let s;return{c(){s=et("Actualizar")},l(e){s=nt(e,"Actualizar")},m(e,l){C(e,s,l)},d(e){e&&d(s)}}}function Ht(a){let s,e,l,h;function m(t,c){return t[2]?zt:At}let i=m(a),r=i(a),n=a[2]&&ct(a);return l=new Nt({props:{Msg:a[1],errorMsg:a[0]}}),{c(){r.c(),s=b(),n&&n.c(),e=b(),dt(l.$$.fragment)},l(t){r.l(t),s=y(t),n&&n.l(t),e=y(t),_t(l.$$.fragment,t)},m(t,c){r.m(t,c),C(t,s,c),n&&n.m(t,c),C(t,e,c),ht(l,t,c),h=!0},p(t,[c]){i===(i=m(t))&&r?r.p(t,c):(r.d(1),r=i(t),r&&(r.c(),r.m(s.parentNode,s))),t[2]?n?(n.p(t,c),c&4&&K(n,1)):(n=ct(t),n.c(),K(n,1),n.m(e.parentNode,e)):n&&(wt(),V(n,1,1,()=>{n=null}),Pt());const v={};c&2&&(v.Msg=t[1]),c&1&&(v.errorMsg=t[0]),l.$set(v)},i(t){h||(K(n),K(l.$$.fragment,t),h=!0)},o(t){V(n),V(l.$$.fragment,t),h=!1},d(t){t&&(d(s),d(e)),r.d(t),n&&n.d(t),mt(l,t)}}}function Ut(a,s,e){let l;Tt(a,Mt,g=>e(11,l=g));let h=l.params;const i=`https://sos2324-22.appspot.com/api/v2/forbes-billionaires-list/${h.rank}`;let r="",n="",t=null;async function c(){const g=await fetch(i,{method:"GET"});try{return g.status===404?(e(0,r=`El billonario con el puesto ${h.rank} no existe`),setTimeout(()=>{e(0,r="")},3e3),null):await g.json()}catch{return null}}async function v(){const g={rank:parseInt(t==null?void 0:t.rank),name:t==null?void 0:t.name,net_worth:parseFloat(t==null?void 0:t.net_worth),age:parseInt(t==null?void 0:t.age),country:t==null?void 0:t.country,source:t==null?void 0:t.source,industry:t==null?void 0:t.industry};try{(await fetch(i,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)})).ok?(e(1,n="Billonario actualizado con éxito"),c(),setTimeout(()=>{e(1,n="")},3e3)):(e(0,r="Error al actualizar el billonario"),setTimeout(()=>{e(0,r="")},3e3))}catch(L){e(0,r=L.message||"Error de red al intentar actualizar el billonario"),setTimeout(()=>{e(0,r="")},3e3)}}gt(async()=>{e(2,t=await c()),t&&console.log(t.name)});function O(){t.rank=this.value,e(2,t)}function H(){t.name=this.value,e(2,t)}function P(){t.net_worth=this.value,e(2,t)}function q(){t.age=this.value,e(2,t)}function U(){t.country=this.value,e(2,t)}function w(){t.source=this.value,e(2,t)}function R(){t.industry=this.value,e(2,t)}return[r,n,t,v,O,H,P,q,U,w,R]}class Yt extends yt{constructor(s){super(),kt(this,s,Ut,Ht,vt,{})}}export{Yt as component};
