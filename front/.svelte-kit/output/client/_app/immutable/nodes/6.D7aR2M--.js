import{s as Ne,r as Ce,o as Ue,i as He}from"../chunks/scheduler.Dc1jLLu_.js";import{S as Se,i as Fe,e as u,h as M,j as ie,b as i,f as E,k as Me,l as P,d as f,m as fe,n as N,a as O,g as r,o as B,p as ce,q as z,u as K,v as Oe,w as W,x as he,y as $e,t as X,c as Z,s as Pe,A as je}from"../chunks/index.DHEfdUHM.js";import{e as De}from"../chunks/each.D6YF6ztN.js";import{B as Te,M as Ye}from"../chunks/MessageContainer.IT5oqPDN.js";import"../chunks/Theme.svelte_svelte_type_style_lang.NJlEhCd8.js";function Ie(s,o,e){const _=s.slice();return _[17]=o[e],_}function qe(s){let o;return{c(){o=X("Crear")},l(e){o=Z(e,"Crear")},m(e,_){O(e,o,_)},d(e){e&&f(o)}}}function Ve(s){let o;return{c(){o=X("Borrar")},l(e){o=Z(e,"Borrar")},m(e,_){O(e,o,_)},d(e){e&&f(o)}}}function Ae(s){let o,e,_,v=s[17].name+"",T,a,p,l=s[17].net_worth+"",D,A,m,w;return m=new Te({props:{class:"delete-button",color:"danger",$$slots:{default:[Ve]},$$scope:{ctx:s}}}),m.$on("click",function(){He(s[4](s[17].name))&&s[4](s[17].name).apply(this,arguments)}),{c(){o=u("div"),e=u("li"),_=u("a"),T=X(v),p=X("- "),D=X(l),A=M(),ie(m.$$.fragment),this.h()},l(d){o=i(d,"DIV",{class:!0});var h=E(o);e=i(h,"LI",{class:!0});var y=E(e);_=i(y,"A",{href:!0});var C=E(_);T=Z(C,v),C.forEach(f),p=Z(y,"- "),D=Z(y,l),y.forEach(f),A=P(h),fe(m.$$.fragment,h),h.forEach(f),this.h()},h(){N(_,"href",a="/forbes-billionaires-list/"+s[17].rank),N(e,"class","svelte-1316pci"),N(o,"class","person-container svelte-1316pci")},m(d,h){O(d,o,h),r(o,e),r(e,_),r(_,T),r(e,p),r(e,D),r(o,A),ce(m,o,null),w=!0},p(d,h){s=d,(!w||h&1)&&v!==(v=s[17].name+"")&&Pe(T,v),(!w||h&1&&a!==(a="/forbes-billionaires-list/"+s[17].rank))&&N(_,"href",a),(!w||h&1)&&l!==(l=s[17].net_worth+"")&&Pe(D,l);const y={};h&1048576&&(y.$$scope={dirty:h,ctx:s}),m.$set(y)},i(d){w||(K(m.$$.fragment,d),w=!0)},o(d){W(m.$$.fragment,d),w=!1},d(d){d&&f(o),he(m)}}}function Ge(s){let o;return{c(){o=X("Borrar todo")},l(e){o=Z(e,"Borrar todo")},m(e,_){O(e,o,_)},d(e){e&&f(o)}}}function Je(s){let o,e,_="<tr><th>Puesto</th> <th>Nombre</th> <th>Patrimonio neto (billones)</th> <th>Edad</th></tr>",v,T,a,p,l,D,A,m,w,d,h,y,C,U,x,$,b="<tr><th>País</th> <th>Empresa</th> <th>Industria</th></tr>",I,k,ee,j,pe,te,Y,_e,se,q,me,oe,S,re,J,le,F,ae,V,ue,de,be;S=new Te({props:{color:"primary",$$slots:{default:[qe]},$$scope:{ctx:s}}}),S.$on("click",s[6]);let R=De(s[0]),c=[];for(let t=0;t<R.length;t+=1)c[t]=Ae(Ie(s,R,t));const Le=t=>W(c[t],1,1,()=>{c[t]=null});return F=new Te({props:{color:"danger",$$slots:{default:[Ge]},$$scope:{ctx:s}}}),F.$on("click",s[5]),V=new Ye({props:{Msg:s[2],errorMsg:s[1]}}),{c(){o=u("table"),e=u("thead"),e.innerHTML=_,v=M(),T=u("tbody"),a=u("tr"),p=u("td"),l=u("input"),D=M(),A=u("td"),m=u("input"),w=M(),d=u("td"),h=u("input"),y=M(),C=u("td"),U=u("input"),x=M(),$=u("thead"),$.innerHTML=b,I=M(),k=u("tbody"),ee=u("td"),j=u("input"),pe=M(),te=u("td"),Y=u("input"),_e=M(),se=u("td"),q=u("input"),me=M(),oe=u("td"),ie(S.$$.fragment),re=M(),J=u("ul");for(let t=0;t<c.length;t+=1)c[t].c();le=M(),ie(F.$$.fragment),ae=M(),ie(V.$$.fragment),this.h()},l(t){o=i(t,"TABLE",{});var n=E(o);e=i(n,"THEAD",{"data-svelte-h":!0}),Me(e)!=="svelte-g90tak"&&(e.innerHTML=_),v=P(n),T=i(n,"TBODY",{});var H=E(T);a=i(H,"TR",{});var L=E(a);p=i(L,"TD",{});var Q=E(p);l=i(Q,"INPUT",{class:!0}),Q.forEach(f),D=P(L),A=i(L,"TD",{});var g=E(A);m=i(g,"INPUT",{class:!0}),g.forEach(f),w=P(L),d=i(L,"TD",{});var ne=E(d);h=i(ne,"INPUT",{class:!0}),ne.forEach(f),y=P(L),C=i(L,"TD",{});var Ee=E(C);U=i(Ee,"INPUT",{class:!0}),Ee.forEach(f),L.forEach(f),H.forEach(f),x=P(n),$=i(n,"THEAD",{"data-svelte-h":!0}),Me($)!=="svelte-1mw0dur"&&($.innerHTML=b),I=P(n),k=i(n,"TBODY",{});var G=E(k);ee=i(G,"TD",{});var ve=E(ee);j=i(ve,"INPUT",{class:!0}),ve.forEach(f),pe=P(G),te=i(G,"TD",{});var Be=E(te);Y=i(Be,"INPUT",{class:!0}),Be.forEach(f),_e=P(G),se=i(G,"TD",{});var we=E(se);q=i(we,"INPUT",{class:!0}),we.forEach(f),me=P(G),oe=i(G,"TD",{});var ye=E(oe);fe(S.$$.fragment,ye),ye.forEach(f),G.forEach(f),n.forEach(f),re=P(t),J=i(t,"UL",{});var ke=E(J);for(let ge=0;ge<c.length;ge+=1)c[ge].l(ke);ke.forEach(f),le=P(t),fe(F.$$.fragment,t),ae=P(t),fe(V.$$.fragment,t),this.h()},h(){N(l,"class","svelte-1316pci"),N(m,"class","svelte-1316pci"),N(h,"class","svelte-1316pci"),N(U,"class","svelte-1316pci"),N(j,"class","svelte-1316pci"),N(Y,"class","svelte-1316pci"),N(q,"class","svelte-1316pci")},m(t,n){O(t,o,n),r(o,e),r(o,v),r(o,T),r(T,a),r(a,p),r(p,l),B(l,s[3].rank),r(a,D),r(a,A),r(A,m),B(m,s[3].name),r(a,w),r(a,d),r(d,h),B(h,s[3].net_worth),r(a,y),r(a,C),r(C,U),B(U,s[3].age),r(o,x),r(o,$),r(o,I),r(o,k),r(k,ee),r(ee,j),B(j,s[3].country),r(k,pe),r(k,te),r(te,Y),B(Y,s[3].source),r(k,_e),r(k,se),r(se,q),B(q,s[3].industry),r(k,me),r(k,oe),ce(S,oe,null),O(t,re,n),O(t,J,n);for(let H=0;H<c.length;H+=1)c[H]&&c[H].m(J,null);O(t,le,n),ce(F,t,n),O(t,ae,n),ce(V,t,n),ue=!0,de||(be=[z(l,"input",s[8]),z(m,"input",s[9]),z(h,"input",s[10]),z(U,"input",s[11]),z(j,"input",s[12]),z(Y,"input",s[13]),z(q,"input",s[14])],de=!0)},p(t,[n]){n&8&&l.value!==t[3].rank&&B(l,t[3].rank),n&8&&m.value!==t[3].name&&B(m,t[3].name),n&8&&h.value!==t[3].net_worth&&B(h,t[3].net_worth),n&8&&U.value!==t[3].age&&B(U,t[3].age),n&8&&j.value!==t[3].country&&B(j,t[3].country),n&8&&Y.value!==t[3].source&&B(Y,t[3].source),n&8&&q.value!==t[3].industry&&B(q,t[3].industry);const H={};if(n&1048576&&(H.$$scope={dirty:n,ctx:t}),S.$set(H),n&17){R=De(t[0]);let g;for(g=0;g<R.length;g+=1){const ne=Ie(t,R,g);c[g]?(c[g].p(ne,n),K(c[g],1)):(c[g]=Ae(ne),c[g].c(),K(c[g],1),c[g].m(J,null))}for(je(),g=R.length;g<c.length;g+=1)Le(g);Oe()}const L={};n&1048576&&(L.$$scope={dirty:n,ctx:t}),F.$set(L);const Q={};n&4&&(Q.Msg=t[2]),n&2&&(Q.errorMsg=t[1]),V.$set(Q)},i(t){if(!ue){K(S.$$.fragment,t);for(let n=0;n<R.length;n+=1)K(c[n]);K(F.$$.fragment,t),K(V.$$.fragment,t),ue=!0}},o(t){W(S.$$.fragment,t),c=c.filter(Boolean);for(let n=0;n<c.length;n+=1)W(c[n]);W(F.$$.fragment,t),W(V.$$.fragment,t),ue=!1},d(t){t&&(f(o),f(re),f(J),f(le),f(ae)),he(S),$e(c,t),he(F,t),he(V,t),de=!1,Ce(be)}}}function Re(s,o,e){const v="https://sos2324-22.appspot.com/api/v2/forbes-billionaires-list";let T=[],a="",p="";const l={rank:11,name:"Bernardose Arnault family",net_worth:211,age:74,country:"France",source:"LVMH",industry:"Fashion"};Ue(()=>{D()});async function D(){try{let b=await fetch(v,{method:"GET"}),I=await b.json();e(0,T=I),b.status===200?(e(2,p="Billonarios creados con éxito"),setTimeout(()=>{e(2,p="")},3e3)):T.length===0?(e(2,p="La lista esta vacía"),setTimeout(()=>{e(2,p="")},3e3)):(e(1,a="Error cargando personas"),setTimeout(()=>{e(1,a="")},3e3))}catch(b){e(1,a=b)}}async function A(b){try{let I=await fetch(v+"/"+b,{method:"DELETE"});console.log(`Borrando billonario ${b}`),I.status===200?(e(2,p="Billonario borrado con éxito"),e(0,T=T.filter(k=>k.name!==b)),setTimeout(()=>{e(2,p="")},3e3)):(e(1,a="Ese billonario no existe"),setTimeout(()=>{e(1,a="")},3e3))}catch(I){e(1,a=I)}}async function m(){try{(await fetch(v,{method:"DELETE"})).status==200?(e(2,p="Millonarios borrados con éxito"),e(0,T=[]),setTimeout(()=>{e(2,p="")},3e3)):(e(1,a="Ya están todas los millonarios borrados"),setTimeout(()=>{e(1,a="")},3e3))}catch(b){e(1,a=b)}}async function w(){try{let I=await(await fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).status;console.log(`Creation response status ${I}`),I===201?(D(),e(2,p="Billonario creada con éxito"),setTimeout(()=>{e(2,p="")},3e3)):(e(1,a="El billonario ya existe"),setTimeout(()=>{e(1,a="")},3e3))}catch(b){e(1,a=b)}}function d(){l.rank=this.value,e(3,l)}function h(){l.name=this.value,e(3,l)}function y(){l.net_worth=this.value,e(3,l)}function C(){l.age=this.value,e(3,l)}function U(){l.country=this.value,e(3,l)}function x(){l.source=this.value,e(3,l)}function $(){l.industry=this.value,e(3,l)}return[T,a,p,l,A,m,w,D,d,h,y,C,U,x,$]}class Ze extends Se{constructor(o){super(),Fe(this,o,Re,Je,Ne,{getForBillionaires:7})}get getForBillionaires(){return this.$$.ctx[7]}}export{Ze as component};
